// maker.js from gavingogaming/maker.js/packages/maker.js/dist/maker.esm.js but minified
var __getOwnPropNames=Object.getOwnPropertyNames,__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},require_clone=__commonJS({"node_modules/clone/clone.js"(e,t){var n=function(){"use strict";function e(t,r,i,a){"object"==typeof r&&(i=r.depth,a=r.prototype,r.filter,r=r.circular);var o=[],s=[],u="undefined"!=typeof Buffer;return void 0===r&&(r=!0),void 0===i&&(i=1/0),function t(i,l){if(null===i)return null;if(0==l)return i;var c,h;if("object"!=typeof i)return i;if(e.__isArray(i))c=[];else if(e.__isRegExp(i))c=new RegExp(i.source,n(i)),i.lastIndex&&(c.lastIndex=i.lastIndex);else if(e.__isDate(i))c=new Date(i.getTime());else{if(u&&Buffer.isBuffer(i))return c=Buffer.allocUnsafe?Buffer.allocUnsafe(i.length):new Buffer(i.length),i.copy(c),c;void 0===a?(h=Object.getPrototypeOf(i),c=Object.create(h)):(c=Object.create(a),h=a)}if(r){var p=o.indexOf(i);if(-1!=p)return s[p];o.push(i),s.push(c)}for(var f in i){var d;h&&(d=Object.getOwnPropertyDescriptor(h,f)),d&&null==d.set||(c[f]=t(i[f],l-1))}return c}(t,i)}function t(e){return Object.prototype.toString.call(e)}function n(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=t,e.__isDate=function(e){return"object"==typeof e&&"[object Date]"===t(e)},e.__isArray=function(e){return"object"==typeof e&&"[object Array]"===t(e)},e.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===t(e)},e.__getRegExpFlags=n,e}();"object"==typeof t&&t.exports&&(t.exports=n)}}),require_kdbush=__commonJS({"node_modules/kdbush/kdbush.js"(e,t){var n,r;n=e,r=function(){"use strict";function e(n,r,i,a,o,s){if(!(o-a<=i)){var u=Math.floor((a+o)/2);t(n,r,u,a,o,s%2),e(n,r,i,a,u-1,s+1),e(n,r,i,u+1,o,s+1)}}function t(e,r,i,a,o,s){for(;o>a;){if(o-a>600){var u=o-a+1,l=i-a+1,c=Math.log(u),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1);t(e,r,i,Math.max(a,Math.floor(i-l*h/u+p)),Math.min(o,Math.floor(i+(u-l)*h/u+p)),s)}var f=r[2*i+s],d=a,v=o;for(n(e,r,a,i),r[2*o+s]>f&&n(e,r,a,o);d<v;){for(n(e,r,d,v),d++,v--;r[2*d+s]<f;)d++;for(;r[2*v+s]>f;)v--}r[2*a+s]===f?n(e,r,a,v):n(e,r,++v,o),v<=i&&(a=v+1),i<=v&&(o=v-1)}}function n(e,t,n,i){r(e,n,i),r(t,2*n,2*i),r(t,2*n+1,2*i+1)}function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}function a(t,n,r,i,a){n=n||o,r=r||s,a=a||Array,this.nodeSize=i||64,this.points=t,this.ids=new a(t.length),this.coords=new a(2*t.length);for(var u=0;u<t.length;u++)this.ids[u]=u,this.coords[2*u]=n(t[u]),this.coords[2*u+1]=r(t[u]);e(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(e){return e[0]}function s(e){return e[1]}return a.prototype={range:function(e,t,n,r){return function(e,t,n,r,i,a,o){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var h=l.pop(),p=l.pop(),f=l.pop();if(p-f<=o)for(var d=f;d<=p;d++)s=t[2*d],u=t[2*d+1],s>=n&&s<=i&&u>=r&&u<=a&&c.push(e[d]);else{var v=Math.floor((f+p)/2);s=t[2*v],u=t[2*v+1],s>=n&&s<=i&&u>=r&&u<=a&&c.push(e[v]);var g=(h+1)%2;(0===h?n<=s:r<=u)&&(l.push(f),l.push(v-1),l.push(g)),(0===h?i>=s:a>=u)&&(l.push(v+1),l.push(p),l.push(g))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)},within:function(e,t,n){return function(e,t,n,r,a,o){for(var s=[0,e.length-1,0],u=[],l=a*a;s.length;){var c=s.pop(),h=s.pop(),p=s.pop();if(h-p<=o)for(var f=p;f<=h;f++)i(t[2*f],t[2*f+1],n,r)<=l&&u.push(e[f]);else{var d=Math.floor((p+h)/2),v=t[2*d],g=t[2*d+1];i(v,g,n,r)<=l&&u.push(e[d]);var m=(c+1)%2;(0===c?n-a<=v:r-a<=g)&&(s.push(p),s.push(d-1),s.push(m)),(0===c?n+a>=v:r+a>=g)&&(s.push(d+1),s.push(h),s.push(m))}}return u}(this.ids,this.coords,e,t,n,this.nodeSize)}},function(e,t,n,r,i){return new a(e,t,n,r,i)}},"object"==typeof e&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):n.kdbush=r()}}),require_graham_scan_min=__commonJS({"node_modules/graham_scan/graham_scan.min.js"(e,t){function n(){this.anchorPoint=void 0,this.reverse=!1,this.points=[]}n.prototype={constructor:n,Point:function(e,t){this.x=e,this.y=t},_findPolarAngle:function(e,t){var n,r;if(!e||!t)return 0;if(n=t.x-e.x,r=t.y-e.y,0==n&&0==r)return 0;var i=57.295779513082*Math.atan2(r,n);return this.reverse?0>=i&&(i+=360):i>=0&&(i+=360),i},addPoint:function(e,t){return void 0===this.anchorPoint?void(this.anchorPoint=new this.Point(e,t)):this.anchorPoint.y>t&&this.anchorPoint.x>e||this.anchorPoint.y===t&&this.anchorPoint.x>e||this.anchorPoint.y>t&&this.anchorPoint.x===e?(this.points.push(new this.Point(this.anchorPoint.x,this.anchorPoint.y)),void(this.anchorPoint=new this.Point(e,t))):void this.points.push(new this.Point(e,t))},_sortPoints:function(){var e=this;return this.points.sort((function(t,n){var r=e._findPolarAngle(e.anchorPoint,t),i=e._findPolarAngle(e.anchorPoint,n);return i>r?-1:r>i?1:0}))},_checkPoints:function(e,t,n){var r=this._findPolarAngle(e,t),i=this._findPolarAngle(e,n);return r>i?!(r-i>180):!(i>r)||i-r>180},getHull:function(){var e,t,n=[];if(this.reverse=this.points.every((function(e){return e.x<0&&e.y<0})),3>(t=(e=this._sortPoints()).length))return e.unshift(this.anchorPoint),e;for(n.push(e.shift(),e.shift());;){var r,i,a;if(n.push(e.shift()),r=n[n.length-3],i=n[n.length-2],a=n[n.length-1],this._checkPoints(r,i,a)&&n.splice(n.length-2,1),0==e.length){if(t==n.length){var o=this.anchorPoint;return(n=n.filter((function(e){return!!e}))).some((function(e){return e.x==o.x&&e.y==o.y}))||n.unshift(this.anchorPoint),n}t=(e=n).length,(n=[]).push(e.shift(),e.shift())}}}},"function"==typeof define&&define.amd&&define((function(){return n})),void 0!==t&&(t.exports=n)}}),require_utils=__commonJS({"node_modules/bezier-js/lib/utils.js"(e,t){!function(){"use strict";var e=Math.abs,n=Math.cos,r=Math.sin,i=Math.acos,a=Math.atan2,o=Math.sqrt,s=Math.pow,u=function(e){return e<0?-s(-e,1/3):s(e,1/3)},l=Math.PI,c=2*l,h=l/2,p=Number.MAX_SAFE_INTEGER||9007199254740991,f=Number.MIN_SAFE_INTEGER||-9007199254740991,d={x:0,y:0,z:0},v={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var n=t(e),r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),o(r)},compute:function(e,t,n){if(0===e)return t[0];var r=t.length-1;if(1===e)return t[r];var i=t,a=1-e;if(0===r)return t[0];if(1===r)return p={x:a*i[0].x+e*i[1].x,y:a*i[0].y+e*i[1].y},n&&(p.z=a*i[0].z+e*i[1].z),p;if(r<4){var o,s,u,l=a*a,c=e*e,h=0;2===r?(i=[i[0],i[1],i[2],d],o=l,s=a*e*2,u=c):3===r&&(o=l*a,s=l*e*3,u=a*c*3,h=e*c);var p={x:o*i[0].x+s*i[1].x+u*i[2].x+h*i[3].x,y:o*i[0].y+s*i[1].y+u*i[2].y+h*i[3].y};return n&&(p.z=o*i[0].z+s*i[1].z+u*i[2].z+h*i[3].z),p}for(var f=JSON.parse(JSON.stringify(t));f.length>1;){for(var v=0;v<f.length-1;v++)f[v]={x:f[v].x+(f[v+1].x-f[v].x)*e,y:f[v].y+(f[v+1].y-f[v].y)*e},void 0!==f[v].z&&(f[v]=f[v].z+(f[v+1].z-f[v].z)*e);f.splice(f.length-1,1)}return f[0]},computeWithRatios:function(e,t,n,r){var i,a=1-e,o=n,s=t,u=o[0],l=o[1],c=o[2],h=o[3];return u*=a,l*=e,2===s.length?(i=u+l,{x:(u*s[0].x+l*s[1].x)/i,y:(u*s[0].y+l*s[1].y)/i,z:!!r&&(u*s[0].z+l*s[1].z)/i}):(u*=a,l*=2*a,c*=e*e,3===s.length?(i=u+l+c,{x:(u*s[0].x+l*s[1].x+c*s[2].x)/i,y:(u*s[0].y+l*s[1].y+c*s[2].y)/i,z:!!r&&(u*s[0].z+l*s[1].z+c*s[2].z)/i}):(u*=a,l*=1.5*a,c*=3*a,h*=e*e*e,4===s.length?(i=u+l+c+h,{x:(u*s[0].x+l*s[1].x+c*s[2].x+h*s[3].x)/i,y:(u*s[0].y+l*s[1].y+c*s[2].y+h*s[3].y)/i,z:!!r&&(u*s[0].z+l*s[1].z+c*s[2].z+h*s[3].z)/i}):void 0))},derive:function(e,t){for(var n=[],r=e,i=r.length,a=i-1;i>1;i--,a--){for(var o,s=[],u=0;u<a;u++)o={x:a*(r[u+1].x-r[u].x),y:a*(r[u+1].y-r[u].y)},t&&(o.z=a*(r[u+1].z-r[u].z)),s.push(o);n.push(s),r=s}return n},between:function(e,t,n){return t<=e&&e<=n||v.approximately(e,t)||v.approximately(e,n)},approximately:function(t,n,r){return e(t-n)<=(r||1e-6)},length:function(e){var t,n,r=0,i=v.Tvalues.length;for(t=0;t<i;t++)n=.5*v.Tvalues[t]+.5,r+=v.Cvalues[t]*v.arcfn(n,e);return.5*r},map:function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},lerp:function(e,t,n){var r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return t.z&&n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){var t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(v.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-e.x,s=n.y-e.y;return a(r*s-i*o,r*o+i*s)},round:function(e,t){var n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){var n=e.x-t.x,r=e.y-t.y;return o(n*n+r*r)},closest:function(e,t){var n,r,i=s(2,63);return e.forEach((function(e,a){(r=v.dist(t,e))<i&&(i=r,n=a)})),{mdist:i,mpos:n}},abcratio:function(t,n){if(2!==n&&3!==n)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var r=s(t,n)+s(1-t,n);return e((r-1)/r)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var n=s(1-e,t);return n/(s(e,t)+n)},lli8:function(e,t,n,r,i,a,o,s){var u=(e-n)*(a-s)-(t-r)*(i-o);return 0!=u&&{x:((e*r-t*n)*(i-o)-(e-n)*(i*s-a*o))/u,y:((e*r-t*n)*(a-s)-(t-r)*(i*s-a*o))/u}},lli4:function(e,t,n,r){var i=e.x,a=e.y,o=t.x,s=t.y,u=n.x,l=n.y,c=r.x,h=r.y;return v.lli8(i,a,o,s,u,l,c,h)},lli:function(e,t){return v.lli4(e,e.c,t,t.c)},makeline:function(e,t){var n=require_bezier(),r=e.x,i=e.y,a=t.x,o=t.y,s=(a-r)/3,u=(o-i)/3;return new n(r,i,r+s,i+u,r+2*s,i+2*u,a,o)},findbbox:function(e){var t=p,n=p,r=f,i=f;return e.forEach((function(e){var a=e.bbox();t>a.x.min&&(t=a.x.min),n>a.y.min&&(n=a.y.min),r<a.x.max&&(r=a.x.max),i<a.y.max&&(i=a.y.max)})),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r,i){if(!v.bboxoverlap(t,r))return[];var a=[],o=[e.startcap,e.forward,e.back,e.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return o.forEach((function(t){t.virtual||s.forEach((function(r){if(!r.virtual){var o=t.intersects(r,i);o.length>0&&(o.c1=t,o.c2=r,o.s1=e,o.s2=n,a.push(o))}}))})),a},makeshape:function(e,t,n){var r=t.points.length,i=e.points.length,a=v.makeline(t.points[r-1],e.points[0]),o=v.makeline(e.points[i-1],t.points[0]),s={startcap:a,forward:e,back:t,endcap:o,bbox:v.findbbox([a,e,t,o])},u=v;return s.intersections=function(e){return u.shapeintersections(s,s.bbox,e,e.bbox,n)},s},getminmax:function(e,t,n){if(!n)return{min:0,max:0};var r,i,a=p,o=f;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var s=0,u=n.length;s<u;s++)r=n[s],(i=e.get(r))[t]<a&&(a=i[t]),i[t]>o&&(o=i[t]);return{min:a,mid:(a+o)/2,max:o,size:o-a}},align:function(e,t){var i=t.p1.x,o=t.p1.y,s=-a(t.p2.y-o,t.p2.x-i);return e.map((function(e){return{x:(e.x-i)*n(s)-(e.y-o)*r(s),y:(e.x-i)*r(s)+(e.y-o)*n(s)}}))},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var r=e.length-1,a=v.align(e,t),s=function(e){return 0<=e&&e<=1};if(2===r){if(0!==(g=(m=a[0].y)-2*(y=a[1].y)+(x=a[2].y))){var l=-o(y*y-m*x),h=-m+y;return[-(l+h)/g,-(-l+h)/g].filter(s)}return y!==x&&0===g?[(2*y-x)/(2*y-2*x)].filter(s):[]}var p=a[0].y,f=a[1].y,d=a[2].y,g=3*f-p-3*d+a[3].y,m=3*p-6*f+3*d,y=-3*p+3*f,x=p;if(v.approximately(g,0)){if(v.approximately(m,0))return v.approximately(y,0)?[]:[-x/y].filter(s);var k=2*m;return[((M=o(y*y-4*m*x))-y)/k,(-y-M)/k].filter(s)}var M,P,A=(a=(3*(y/=g)-(m/=g)*m)/3)/3,b=(M=(2*m*m*m-9*m*y+27*(x/=g))/27)/2,w=b*b+A*A*A;if(w<0){var T=-a/3,C=o(T*T*T),z=-M/(2*C),J=i(z<-1?-1:z>1?1:z),S=2*u(C);return[S*n(J/3)-m/3,S*n((J+c)/3)-m/3,S*n((J+2*c)/3)-m/3].filter(s)}if(0===w)return[2*(P=b<0?u(-b):-u(b))-m/3,-P-m/3].filter(s);var L=o(w);return[(P=u(-b+L))-u(b+L)-m/3].filter(s)},droots:function(e){if(3===e.length){var t=e[0],n=e[1],r=e[2],i=t-2*n+r;if(0!==i){var a=-o(n*n-t*r),s=-t+n;return[-(a+s)/i,-(-a+s)/i]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length)return(t=e[0])!==(n=e[1])?[t/(t-n)]:[]},curvature:function(t,n,r,i){var a,u,l,c,h,p,f=v.derive(n),d=f[0],g=f[1],m=v.compute(t,d),y=v.compute(t,g),x=m.x*m.x+m.y*m.y;if(r?(a=o(s(m.y*y.z-y.y*m.z,2)+s(m.z*y.x-y.z*m.x,2)+s(m.x*y.y-y.x*m.y,2)),u=s(x+m.z*m.z,1.5)):(a=m.x*y.y-m.y*y.x,u=s(x,1.5)),0===a||0===u)return{k:0,r:0};if(h=a/u,p=u/a,!i){var k=v.curvature(t-.001,n,r,!0).k,M=v.curvature(t+.001,n,r,!0).k;c=(M-h+(h-k))/2,l=(e(M-h)+e(h-k))/2}return{k:h,r:p,dk:c,adk:l}},inflections:function(e){if(e.length<4)return[];var t=v.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,i=t[1].x*t[2].y,a=18*(-3*n+2*r+3*i-(h=t[3].x*t[2].y)),o=18*(3*n-r-3*i),s=18*(i-n);if(v.approximately(a,0)){if(!v.approximately(o,0)){var u=-s/o;if(0<=u&&u<=1)return[u]}return[]}var l=o*o-4*a*s,c=Math.sqrt(l),h=2*a;return v.approximately(h,0)?[]:[(c-o)/h,-(o+c)/h].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(t,n){var r,i,a,o,s,u=["x","y"],l=u.length;for(r=0;r<l;r++)if(a=t[i=u[r]].mid,o=n[i].mid,s=(t[i].size+n[i].size)/2,e(a-o)>=s)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){var r=e.bbox(),i=t.bbox(),a=1e5,o=n||.5;if(r.x.size+r.y.size<o&&i.x.size+i.y.size<o)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(t._t1+t._t2)/2|0)/a];var s=e.split(.5),u=t.split(.5),l=[{left:s.left,right:u.left},{left:s.left,right:u.right},{left:s.right,right:u.right},{left:s.right,right:u.left}];l=l.filter((function(e){return v.bboxoverlap(e.left.bbox(),e.right.bbox())}));var c=[];return 0===l.length?c:(l.forEach((function(e){c=c.concat(v.pairiteration(e.left,e.right,o))})),c=c.filter((function(e,t){return c.indexOf(e)===t})))},getccenter:function(e,t,i){var o,s=t.x-e.x,u=t.y-e.y,l=i.x-t.x,p=i.y-t.y,f=s*n(h)-u*r(h),d=s*r(h)+u*n(h),g=l*n(h)-p*r(h),m=l*r(h)+p*n(h),y=(e.x+t.x)/2,x=(e.y+t.y)/2,k=(t.x+i.x)/2,M=(t.y+i.y)/2,P=y+f,A=x+d,b=k+g,w=M+m,T=v.lli8(y,x,P,A,k,M,b,w),C=v.dist(T,e),z=a(e.y-T.y,e.x-T.x),J=a(t.y-T.y,t.x-T.x),S=a(i.y-T.y,i.x-T.x);return z<S?((z>J||J>S)&&(z+=c),z>S&&(o=S,S=z,z=o)):S<J&&J<z?(o=S,S=z,z=o):S+=c,T.s=z,T.e=S,T.r=C,T},numberSort:function(e,t){return e-t}};t.exports=v}()}}),require_poly_bezier=__commonJS({"node_modules/bezier-js/lib/poly-bezier.js"(e,t){!function(){"use strict";var e=require_utils(),n=function(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)};n.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map((function(t){return e.pointsToString(t.points)})).join(", ")+"]"},addCurve:function(e){this.curves.push(e),this._3d=this._3d||e._3d},length:function(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))},curve:function(e){return this.curves[e]},bbox:function(){for(var t=this.curves,n=t[0].bbox(),r=1;r<t.length;r++)e.expandbox(n,t[r].bbox());return n},offset:function(e){var t=[];return this.curves.forEach((function(n){t=t.concat(n.offset(e))})),new n(t)}},t.exports=n}()}}),require_normalise_svg=__commonJS({"node_modules/bezier-js/lib/normalise-svg.js"(e,t){t.exports=function(e){var t,n,r,i,a,o,s=(e=e.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),u=s.length,l=[],c=0,h=0,p=0,f=0,d=0,v=0,g=0,m=0,y="";for(t=1;t<u;t++)if(i=(r=(n=s[t]).substring(0,1)).toLowerCase(),a=(l=(l=n.replace(r,"").trim().split(" ")).filter((function(e){return""!==e})).map(parseFloat)).length,"m"===i){if(y+="M ","m"===r?(p+=l[0],f+=l[1]):(p=l[0],f=l[1]),c=p,h=f,y+=p+" "+f+" ",a>2)for(o=0;o<a;o+=2)"m"===r?(p+=l[o],f+=l[o+1]):(p=l[o],f=l[o+1]),y+=["L",p,f,""].join(" ")}else if("l"===i)for(o=0;o<a;o+=2)"l"===r?(p+=l[o],f+=l[o+1]):(p=l[o],f=l[o+1]),y+=["L",p,f,""].join(" ");else if("h"===i)for(o=0;o<a;o++)"h"===r?p+=l[o]:p=l[o],y+=["L",p,f,""].join(" ");else if("v"===i)for(o=0;o<a;o++)"v"===r?f+=l[o]:f=l[o],y+=["L",p,f,""].join(" ");else if("q"===i)for(o=0;o<a;o+=4)"q"===r?(d=p+l[o],v=f+l[o+1],p+=l[o+2],f+=l[o+3]):(d=l[o],v=l[o+1],p=l[o+2],f=l[o+3]),y+=["Q",d,v,p,f,""].join(" ");else if("t"===i)for(o=0;o<a;o+=2)d=p+(p-d),v=f+(f-v),"t"===r?(p+=l[o],f+=l[o+1]):(p=l[o],f=l[o+1]),y+=["Q",d,v,p,f,""].join(" ");else if("c"===i)for(o=0;o<a;o+=6)"c"===r?(d=p+l[o],v=f+l[o+1],g=p+l[o+2],m=f+l[o+3],p+=l[o+4],f+=l[o+5]):(d=l[o],v=l[o+1],g=l[o+2],m=l[o+3],p=l[o+4],f=l[o+5]),y+=["C",d,v,g,m,p,f,""].join(" ");else if("s"===i)for(o=0;o<a;o+=4)d=p+(p-g),v=f+(f-m),"s"===r?(g=p+l[o],m=f+l[o+1],p+=l[o+2],f+=l[o+3]):(g=l[o],m=l[o+1],p=l[o+2],f=l[o+3]),y+=["C",d,v,g,m,p,f,""].join(" ");else"z"===i&&(y+="Z ",p=c,f=h);return y.trim()}}}),require_svg_to_beziers=__commonJS({"node_modules/bezier-js/lib/svg-to-beziers.js"(e,t){var n=require_normalise_svg(),r={x:!1,y:!1};function i(e,t,n){if("Z"!==t){if("M"!==t){var i=[!1,r.x,r.y].concat(n),a=new(e.bind.apply(e,i)),o=n.slice(-2);return r={x:o[0],y:o[1]},a}r={x:n[0],y:n[1]}}}t.exports=function(e,t){for(var r,a,o=n(t).split(" "),s=new RegExp("[MLCQZ]",""),u=[],l={C:6,Q:4,L:2,M:2};o.length;)r=o.splice(0,1)[0],s.test(r)&&(a=i(e,r,o.splice(0,l[r]).map(parseFloat)))&&u.push(a);return new e.PolyBezier(u)}}}),require_bezier=__commonJS({"node_modules/bezier-js/lib/bezier.js"(e,t){!function(){"use strict";var e=Math.abs,n=Math.min,r=Math.max,i=Math.cos,a=Math.sin,o=Math.acos,s=Math.sqrt,u=Math.PI,l={x:0,y:0,z:0},c=require_utils(),h=require_poly_bezier(),p=function(t){var n=t&&t.forEach?t:[].slice.call(arguments),r=!1;if("object"==typeof n[0]){r=n.length;var i=[];n.forEach((function(e){["x","y","z"].forEach((function(t){void 0!==e[t]&&i.push(e[t])}))})),n=i}var a=!1,o=n.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(6!==o&&8!==o&&9!==o&&12!==o&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var s=!a&&(9===o||12===o)||t&&t[0]&&void 0!==t[0].z;this._3d=s;for(var u=[],l=0,h=s?3:2;l<o;l+=h){var p={x:n[l],y:n[l+1]};s&&(p.z=n[l+2]),u.push(p)}this.order=u.length-1,this.points=u;var f=["x","y"];s&&f.push("z"),this.dims=f,this.dimlen=f.length,function(t){for(var n=t.order,r=t.points,i=c.align(r,{p1:r[0],p2:r[n]}),a=0;a<i.length;a++)if(e(i[a].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()},f=require_svg_to_beziers();function d(e,t,n,r,i){void 0===i&&(i=.5);var a=c.projectionratio(i,e),o=1-a,s={x:a*t.x+o*r.x,y:a*t.y+o*r.y},u=c.abcratio(i,e);return{A:{x:n.x+(n.x-s.x)/u,y:n.y+(n.y-s.y)/u},B:n,C:s}}p.SVGtoBeziers=function(e){return f(p,e)},p.quadraticFromPoints=function(e,t,n,r){if(void 0===r&&(r=.5),0===r)return new p(t,t,n);if(1===r)return new p(e,t,t);var i=d(2,e,t,n,r);return new p(e,i.A,n)},p.cubicFromPoints=function(e,t,n,r,i){void 0===r&&(r=.5);var a=d(3,e,t,n,r);void 0===i&&(i=c.dist(t,a.C));var o=i*(1-r)/r,s=c.dist(e,n),u=(n.x-e.x)/s,l=(n.y-e.y)/s,h=i*u,f=i*l,v=o*u,g=o*l,m=t.x-h,y=t.y-f,x=t.x+v,k=t.y+g,M=a.A,P=M.x+(m-M.x)/(1-r),A=M.y+(y-M.y)/(1-r),b=M.x+(x-M.x)/r,w=M.y+(k-M.y)/r,T={x:e.x+(P-e.x)/r,y:e.y+(A-e.y)/r},C={x:n.x+(b-n.x)/(1-r),y:n.y+(w-n.y)/(1-r)};return new p(e,T,C,n)};var v=function(){return c};p.getUtils=v,p.PolyBezier=h,p.prototype={getUtils:v,valueOf:function(){return this.toString()},toString:function(){return c.pointsToString(this.points)},toSVG:function(e){if(this._3d)return!1;for(var t=this.points,n=["M",t[0].x,t[0].y,2===this.order?"Q":"C"],r=1,i=t.length;r<i;r++)n.push(t[r].x),n.push(t[r].y);return n.join(" ")},setRatios:function(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]},verify:function(){var e=this.coordDigest();e!==this._print&&(this._print=e,this.update())},coordDigest:function(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")},update:function(e){this._lut=[],this.dpoints=c.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var e=this.points,t=c.angle(e[0],e[this.order],e[1]);this.clockwise=t>0},length:function(){return c.length(this.derivative.bind(this))},_lut:[],getLUT:function(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(var t=0;t<=e;t++)this._lut.push(this.compute(t/e));return this._lut},on:function(e,t){t=t||5;for(var n,r=this.getLUT(),i=[],a=0,o=0;o<r.length;o++)n=r[o],c.dist(n,e)<t&&(i.push(n),a+=o/r.length);return!!i.length&&a/i.length},project:function(e){var t,n,r,i,a=this.getLUT(),o=a.length-1,s=c.closest(a,e),u=s.mdist,l=s.mpos,h=(l+1)/o,p=.1/o;for(u+=1,t=n=(l-1)/o;n<h+p;n+=p)r=this.compute(n),(i=c.dist(e,r))<u&&(u=i,t=n);return(r=this.compute(t)).t=t,r.d=u,r},get:function(e){return this.compute(e)},point:function(e){return this.points[e]},compute:function(e){return this.ratios?c.computeWithRatios(e,this.points,this.ratios,this._3d):c.compute(e,this.points,this._3d,this.ratios)},raise:function(){for(var e,t,n=this.points,r=[n[0]],i=n.length,a=1;a<i;a++)e=n[a],t=n[a-1],r[a]={x:(i-a)/i*e.x+a/i*t.x,y:(i-a)/i*e.y+a/i*t.y};return r[i]=n[i-1],new p(r)},derivative:function(e){var t,n,r=1-e,i=0,a=this.dpoints[0];2===this.order&&(a=[a[0],a[1],l],t=r,n=e),3===this.order&&(t=r*r,n=r*e*2,i=e*e);var o={x:t*a[0].x+n*a[1].x+i*a[2].x,y:t*a[0].y+n*a[1].y+i*a[2].y};return this._3d&&(o.z=t*a[0].z+n*a[1].z+i*a[2].z),o},curvature:function(e){return c.curvature(e,this.points,this._3d)},inflections:function(){return c.inflections(this.points)},normal:function(e){return this._3d?this.__normal3(e):this.__normal2(e)},__normal2:function(e){var t=this.derivative(e),n=s(t.x*t.x+t.y*t.y);return{x:-t.y/n,y:t.x/n}},__normal3:function(e){var t=this.derivative(e),n=this.derivative(e+.01),r=s(t.x*t.x+t.y*t.y+t.z*t.z),i=s(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=i,n.y/=i,n.z/=i;var a={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},o=s(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=o,a.y/=o,a.z/=o;var u=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{x:u[0]*t.x+u[1]*t.y+u[2]*t.z,y:u[3]*t.x+u[4]*t.y+u[5]*t.z,z:u[6]*t.x+u[7]*t.y+u[8]*t.z}},hull:function(e){var t,n=this.points,r=[],i=[],a=0,o=0,s=0;for(i[a++]=n[0],i[a++]=n[1],i[a++]=n[2],3===this.order&&(i[a++]=n[3]);n.length>1;){for(r=[],o=0,s=n.length-1;o<s;o++)t=c.lerp(e,n[o],n[o+1]),i[a++]=t,r.push(t);n=r}return i},split:function(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;var n=this.hull(e),r={left:2===this.order?new p([n[0],n[3],n[5]]):new p([n[0],n[4],n[7],n[9]]),right:2===this.order?new p([n[5],n[4],n[2]]):new p([n[9],n[8],n[6],n[3]]),span:n};return r.left._t1=c.map(0,0,1,this._t1,this._t2),r.left._t2=c.map(e,0,1,this._t1,this._t2),r.right._t1=c.map(e,0,1,this._t1,this._t2),r.right._t2=c.map(1,0,1,this._t1,this._t2),t?(t=c.map(t,e,1,0,1),r.right.split(t).left):r},extrema:function(){var e,t,n=this.dims,r={},i=[];return n.forEach(function(n){t=function(e){return e[n]},e=this.dpoints[0].map(t),r[n]=c.droots(e),3===this.order&&(e=this.dpoints[1].map(t),r[n]=r[n].concat(c.droots(e))),r[n]=r[n].filter((function(e){return e>=0&&e<=1})),i=i.concat(r[n].sort(c.numberSort))}.bind(this)),i=i.sort(c.numberSort).filter((function(e,t){return i.indexOf(e)===t})),r.values=i,r},bbox:function(){var e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=c.getminmax(this,n,e[n])}.bind(this)),t},overlaps:function(e){var t=this.bbox(),n=e.bbox();return c.bboxoverlap(t,n)},offset:function(e,t){if(void 0!==t){var n=this.get(e),r=this.normal(e),i={c:n,n:r,x:n.x+r.x*t,y:n.y+r.y*t};return this._3d&&(i.z=n.z+r.z*t),i}if(this._linear){var a=this.normal(0),o=this.points.map((function(t){var n={x:t.x+e*a.x,y:t.y+e*a.y};return t.z&&r.z&&(n.z=t.z+e*a.z),n}));return[new p(o)]}return this.reduce().map((function(t){return t._linear?t.offset(e)[0]:t.scale(e)}))},simple:function(){if(3===this.order){var t=c.angle(this.points[0],this.points[3],this.points[1]),n=c.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&n<0||t<0&&n>0)return!1}var r=this.normal(0),i=this.normal(1),a=r.x*i.x+r.y*i.y;return this._3d&&(a+=r.z*i.z),e(o(a))<u/3},reduce:function(){var t,n,r=0,i=0,a=.01,o=[],s=[],u=this.extrema().values;for(-1===u.indexOf(0)&&(u=[0].concat(u)),-1===u.indexOf(1)&&u.push(1),r=u[0],t=1;t<u.length;t++)i=u[t],(n=this.split(r,i))._t1=r,n._t2=i,o.push(n),r=i;return o.forEach((function(t){for(r=0,i=0;i<=1;)for(i=r+a;i<=1.01;i+=a)if(!(n=t.split(r,i)).simple()){if(e(r-(i-=a))<a)return[];(n=t.split(r,i))._t1=c.map(r,0,1,t._t1,t._t2),n._t2=c.map(i,0,1,t._t1,t._t2),s.push(n),r=i;break}r<1&&((n=t.split(r,1))._t1=c.map(r,0,1,t._t1,t._t2),n._t2=t._t2,s.push(n))})),s},scale:function(e){var t=this.order,n=!1;if("function"==typeof e&&(n=e),n&&2===t)return this.raise().scale(n);var r=this.clockwise,i=n?n(0):e,a=n?n(1):e,o=[this.offset(0,10),this.offset(1,10)],u=c.lli4(o[0],o[0].c,o[1],o[1].c);if(!u)throw new Error("cannot scale this curve. Try reducing it first.");var l=this.points,h=[];return[0,1].forEach(function(e){var n=h[e*t]=c.copy(l[e*t]);n.x+=(e?a:i)*o[e].n.x,n.y+=(e?a:i)*o[e].n.y}.bind(this)),n?([0,1].forEach(function(i){if(2!==this.order||!i){var a=l[i+1],o={x:a.x-u.x,y:a.y-u.y},c=n?n((i+1)/t):e;n&&!r&&(c=-c);var p=s(o.x*o.x+o.y*o.y);o.x/=p,o.y/=p,h[i+1]={x:a.x+c*o.x,y:a.y+c*o.y}}}.bind(this)),new p(h)):([0,1].forEach(function(e){if(2!==this.order||!e){var n=h[e*t],r=this.derivative(e),i={x:n.x+r.x,y:n.y+r.y};h[e+1]=c.lli4(n,i,u,l[e+1])}}.bind(this)),new p(h))},outline:function(e,t,n,r){t=void 0===t?e:t;var i,a=this.reduce(),o=a.length,s=[],u=[],l=0,p=this.length(),f=void 0!==n&&void 0!==r;function d(e,t,n,r,i){return function(a){var o=r/n,s=(r+i)/n,u=t-e;return c.map(a,0,1,e+o*u,e+s*u)}}a.forEach((function(i){P=i.length(),f?(s.push(i.scale(d(e,n,p,l,P))),u.push(i.scale(d(-t,-r,p,l,P)))):(s.push(i.scale(e)),u.push(i.scale(-t))),l+=P})),u=u.map((function(e){return(i=e.points)[3]?e.points=[i[3],i[2],i[1],i[0]]:e.points=[i[2],i[1],i[0]],e})).reverse();var v=s[0].points[0],g=s[o-1].points[s[o-1].points.length-1],m=u[o-1].points[u[o-1].points.length-1],y=u[0].points[0],x=c.makeline(m,v),k=c.makeline(g,y),M=[x].concat(s).concat([k]).concat(u),P=M.length;return new h(M)},outlineshapes:function(e,t,n){t=t||e;for(var r=this.outline(e,t).curves,i=[],a=1,o=r.length;a<o/2;a++){var s=c.makeshape(r[a],r[o-a],n);s.startcap.virtual=a>1,s.endcap.virtual=a<o/2-1,i.push(s)}return i},intersects:function(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof p&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)},lineIntersects:function(e){var t=n(e.p1.x,e.p2.x),i=n(e.p1.y,e.p2.y),a=r(e.p1.x,e.p2.x),o=r(e.p1.y,e.p2.y),s=this;return c.roots(this.points,e).filter((function(e){var n=s.get(e);return c.between(n.x,t,a)&&c.between(n.y,i,o)}))},selfintersects:function(e){var t,n,r,i,a=this.reduce(),o=a.length-2,s=[];for(t=0;t<o;t++)r=a.slice(t,t+1),i=a.slice(t+2),n=this.curveintersects(r,i,e),s=s.concat(n);return s},curveintersects:function(e,t,n){var r=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&r.push({left:e,right:t})}))}));var i=[];return r.forEach((function(e){var t=c.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))})),i},arcs:function(e){e=e||.5;return this._iterate(e,[])},_error:function(t,n,r,i){var a=(i-r)/4,o=this.get(r+a),s=this.get(i-a),u=c.dist(t,n),l=c.dist(t,o),h=c.dist(t,s);return e(l-u)+e(h-u)},_iterate:function(e,t){var n,r=0,o=1;do{n=0,o=1;var s,u,l,h,p,f=this.get(r),d=!1,v=!1,g=o,m=1;do{if(v=d,h=l,g=(r+o)/2,s=this.get(g),u=this.get(o),(l=c.getccenter(f,s,u)).interval={start:r,end:o},d=this._error(l,f,r,o)<=e,(p=v&&!d)||(m=o),d){if(o>=1){if(l.interval.end=m=1,h=l,o>1){var y={x:l.x+l.r*i(l.e),y:l.y+l.r*a(l.e)};l.e+=c.angle({x:l.x,y:l.y},y,this.get(1))}break}o+=(o-r)/2}else o=g}while(!p&&n++<100);if(n>=100)break;h=h||l,t.push(h),r=m}while(o<1);return t}},t.exports=p}()}}),require_bezier_js=__commonJS({"node_modules/bezier-js/index.js"(e,t){t.exports=require_bezier()}}),require_index=__commonJS({"dist/index.js"(exports,module){var MakerJs,MakerJs,MakerJs2,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs;(function(MakerJs){MakerJs.version="debug",MakerJs.environmentTypes={BrowserUI:"browser",NodeJs:"node",WebWorker:"worker",Unknown:"unknown"};var EPSILON=Number.EPSILON||Math.pow(2,-52);function tryEval(name){try{var value=eval(name);return value}catch(e){}}function detectEnvironment(){return tryEval("WorkerGlobalScope")&&tryEval("self")?MakerJs.environmentTypes.WebWorker:tryEval("window")&&tryEval("document")?MakerJs.environmentTypes.BrowserUI:tryEval("global")&&tryEval("process")?MakerJs.environmentTypes.NodeJs:MakerJs.environmentTypes.Unknown}function split(e,t){var n=e.indexOf(t);return n<0?[e]:n>0?[e.substr(0,n),e.substr(n+1)]:["",e]}function splitDecimal(e){var t=e.toString();return t.indexOf("e")>0&&(t=e.toFixed(20).match(/.*[^(0+$)]/)[0]),split(t,".")}function round(e,t){if(void 0===t&&(t=1e-7),e%1==0)return e;var n=1/t;return Math.round((e+EPSILON)*n)/n}function createRouteKey(e){for(var t=[],n=0;n<e.length;n++){var r,i=e[n];r=n%2==0?(n>0?".":"")+i:JSON.stringify([i]),t.push(r)}return t.join("")}function travel(e,t){if(!e||!t)return null;for(var n=(Array.isArray(t)?t:JSON.parse(t)).slice(),r=e,i=e.origin||[0,0];n.length;){if(!(r=r[n.shift()]))return null;r.origin&&n.length&&(i=MakerJs.point.add(i,r.origin))}return{result:r,offset:i}}MakerJs.environment=detectEnvironment(),MakerJs.unitType={Centimeter:"cm",Foot:"foot",Inch:"inch",Meter:"m",Millimeter:"mm"},MakerJs.splitDecimal=splitDecimal,MakerJs.round=round,MakerJs.createRouteKey=createRouteKey,MakerJs.travel=travel;var clone=require_clone();function cloneObject(e){return clone(e)}function extendObject(e,t){if(e&&t)for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e}function isPoint(e){return e&&Array.isArray(e)&&2==e.length&&isNumber(e[0])&&isNumber(e[1])}function isPath(e){return e&&e.type&&isPoint(e.origin)}function isPathLine(e){return isPath(e)&&e.type==MakerJs.pathType.Line&&isPoint(e.end)}function isPathCircle(e){return isPath(e)&&e.type==MakerJs.pathType.Circle&&isNumber(e.radius)}function isPathArc(e){return isPath(e)&&e.type==MakerJs.pathType.Arc&&isNumber(e.radius)&&isNumber(e.startAngle)&&isNumber(e.endAngle)}function isPathArcInBezierCurve(e){return isPathArc(e)&&isObject(e.bezierData)&&isNumber(e.bezierData.startT)&&isNumber(e.bezierData.endT)}function isModel(e){return e&&(e.paths||e.models)}function isChain(e){var t=e;return t&&t.links&&Array.isArray(t.links)&&isNumber(t.pathLength)}MakerJs.cloneObject=cloneObject,MakerJs.extendObject=extendObject,MakerJs.isFunction=isFunction,MakerJs.isNumber=isNumber,MakerJs.isObject=isObject,MakerJs.isPoint=isPoint,MakerJs.isPath=isPath,MakerJs.isPathLine=isPathLine,MakerJs.isPathCircle=isPathCircle,MakerJs.isPathArc=isPathArc,MakerJs.isPathArcInBezierCurve=isPathArcInBezierCurve,MakerJs.pathType={Line:"line",Circle:"circle",Arc:"arc",BezierSeed:"bezier-seed"},MakerJs.isModel=isModel,MakerJs.isChain=isChain;var Cascade=function(){function e(e,t){for(var n in this._module=e,this.$initial=t,this._module)this._shadow(n);this.$result=t}return e.prototype._shadow=function(e){var t=this;this[e]=function(){return t._apply(t._module[e],arguments)}},e.prototype._apply=function(e,t){var n=[].slice.call(t);return n.unshift(this.$result),this.$result=e.apply(void 0,n),this},e.prototype.$reset=function(){return this.$result=this.$initial,this},e}();function $(e){return isModel(e)?new Cascade(MakerJs.model,e):isPath(e)?new Cascade(MakerJs.path,e):isPoint(e)?new Cascade(MakerJs.point,e):void 0}MakerJs.$=$})(MakerJs||(MakerJs={})),module.exports=MakerJs,MakerJs2=MakerJs||(MakerJs={}),function(e){function t(e,t){return e<0&&t<0||e>0&&t>0?function(e,t){return t?+(MakerJs2.splitDecimal(e)[0]+"."+t):e}(t,(n=e,MakerJs2.splitDecimal(n)[1])):t;var n}function n(e){var n=Math.floor(e/360);return 0===n?e:t(e,e-360*n)}function r(e){return 180*e/Math.PI}function i(t){var r=e.ofArcEnd(t)-t.startAngle;return MakerJs2.round(r)>360?n(r):r}function a(e){return n(r(o(e.origin,e.end)))}function o(e,t){var n=MakerJs2.point.subtract(t,e),r=n[0],i=n[1];return Math.atan2(-i,-r)+Math.PI}e.noRevolutions=n,e.toRadians=function(e){return n(e)*Math.PI/180},e.toDegrees=r,e.ofArcEnd=function(e){if(e.endAngle<e.startAngle){var n=360*Math.ceil((e.startAngle-e.endAngle)/360)+e.endAngle;return t(e.endAngle,n)}return e.endAngle},e.ofArcMiddle=function(e,t){return void 0===t&&(t=.5),e.startAngle+i(e)*t},e.ofArcSpan=i,e.ofLineInDegrees=a,e.ofPointInDegrees=function(e,t){return r(o(e,t))},e.ofPointInRadians=o,e.mirror=function(e,t,n){return n&&(e=360-e),t&&(e=(e<180?180:540)-e),e};var s={};s[MakerJs2.pathType.Arc]=function(e,t,n){var r=t!=n,i=r?e.endAngle-90:e.startAngle+90,a=MakerJs2.point.fromArc(e)[r?1:0],o=MakerJs2.point.rotate(MakerJs2.point.add(a,[e.radius,0]),i,a);return new MakerJs2.paths.Line(t?[o,a]:[a,o])},s[MakerJs2.pathType.Line]=function(e,t,n){return n?new MakerJs2.paths.Line(e.end,e.origin):e},e.ofChainLinkJoint=function(e,t){if(arguments.length<2)return null;var r=[e,t].map((function(e,t){return function(e,t){if(e){var n=e.walkedPath.pathContext,r=s[n.type];if(r)return r(n,t,e.reversed)}}(e,0===t)})),i=n(a(r[1])-a(r[0]));return i>180&&(i-=360),i}}(MakerJs2.angle||(MakerJs2.angle={})),function(e){!function(t){function n(e,t,n){var i=r(e);if(!t)return i;for(var a=2;a--;)n?i[a]-=t[a]:i[a]+=t[a];return i}function r(e){return e?[e[0],e[1]]:t.zero()}t.add=n,t.average=function(e,t){function n(n){return(e[n]+t[n])/2}return[n(0),n(1)]},t.clone=r,t.closest=function(t,n){for(var r={index:0,distance:-1},i=0;i<n.length;i++){var a=e.measure.pointDistance(t,n[i]);(-1==r.distance||a<r.distance)&&(r.distance=a,r.index=i)}return n[r.index]};var i={};i[Math.PI/2]=!0,i[3*Math.PI/2]=!0;var a={};function o(t,n){return[t in i?0:e.round(n*Math.cos(t)),t in a?0:e.round(n*Math.sin(t))]}function s(t,r){return n(r.origin,o(e.angle.toRadians(t),r.radius))}a[Math.PI]=!0,a[2*Math.PI]=!0,t.fromPolar=o,t.fromAngleOnCircle=s,t.fromArc=function(e){return[s(e.startAngle,e),s(e.endAngle,e)]};var u={};function l(e,t){var n=e.origin[0];return[n,t.slope*n+t.yIntercept]}function c(n,r){return t.add(n.origin,t.fromPolar(e.angle.toRadians(r),n.radius))}u[e.pathType.Arc]=function(e){return t.fromArc(e)},u[e.pathType.Line]=function(e){return[e.origin,e.end]},u[e.pathType.BezierSeed]=u[e.pathType.Line],t.fromPathEnds=function(e,t){var r=null,i=u[e.type];return i&&(r=i(e),t&&(r=r.map((function(e){return n(e,t)})))),r},t.fromSlopeIntersection=function(t,n,r){void 0===r&&(r={});var i,a=e.measure.lineSlope(t),o=e.measure.lineSlope(n);if(e.measure.isSlopeParallel(a,o))return e.measure.isSlopeEqual(a,o)&&(r.out_AreOverlapped=e.measure.isLineOverlapping(t,n,r.excludeTangents)),null;if(a.hasSlope)if(o.hasSlope){var s=(o.yIntercept-a.yIntercept)/(a.slope-o.slope);i=[s,a.slope*s+a.yIntercept]}else i=l(n,a);else i=l(t,o);return i};var h={};h[e.pathType.Arc]=function(t,n){return c(t,e.angle.ofArcMiddle(t,n))},h[e.pathType.Circle]=function(e,t){return c(e,360*t)},h[e.pathType.Line]=function(e,t){function n(e,n){return e+(n-e)*t}return[n(e.origin[0],e.end[0]),n(e.origin[1],e.end[1])]},h[e.pathType.BezierSeed]=function(t,n){return e.models.BezierCurve.computePoint(t,n)},t.middle=function(e,t){void 0===t&&(t=.5);var n=null,r=h[e.type];return r&&(n=r(e,t)),n},t.mirror=function(e,t,n){var i=r(e);return t&&(i[0]=-i[0]),n&&(i[1]=-i[1]),i},t.rounded=function(t,n){return[e.round(t[0],n),e.round(t[1],n)]},t.rotate=function(t,r,i){void 0===i&&(i=[0,0]);var a=e.angle.ofPointInRadians(i,t),s=e.measure.pointDistance(i,t);return n(i,o(a+e.angle.toRadians(r),s))},t.scale=function(e,t){for(var n=r(e),i=2;i--;)n[i]*=t;return n},t.distort=function(e,t,n){return[e[0]*t,e[1]*n]},t.subtract=function(e,t){return n(e,t,!0)},t.zero=function(){return[0,0]}}(e.point||(e.point={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t){e&&t&&void 0!==e.layer&&(t.layer=e.layer),e&&t&&"bezierData"in e&&(t.bezierData=e.bezierData)}t.addTo=function(t,n,r,i){return void 0===i&&(i=!1),e.model.addPath(n,t,r,i),t};var r={};r[e.pathType.Circle]=function(e,t,n){t.radius=e.radius},r[e.pathType.Arc]=function(t,n,i){r[e.pathType.Circle](t,n,i),n.startAngle=t.startAngle,n.endAngle=t.endAngle},r[e.pathType.Line]=function(t,n,r){n.end=e.point.add(t.end,r)},r[e.pathType.BezierSeed]=function(t,n,i){r[e.pathType.Line](t,n,i),n.controls=t.controls.map((function(t){return e.point.add(t,i)}))},t.clone=function(t,i){var a={type:t.type,origin:e.point.add(t.origin,i)},o=r[t.type];return o&&o(t,a,i),n(t,a),a},t.copyProps=function(t,i){var a=r[t.type];return a&&(i.origin=e.point.clone(t.origin),a(t,i)),n(t,i),t};var i={};i[e.pathType.Line]=function(t,n,r,i){return new e.paths.Line(n,e.point.mirror(t.end,r,i))},i[e.pathType.Circle]=function(t,n,r,i){return new e.paths.Circle(n,t.radius)},i[e.pathType.Arc]=function(t,n,r,i){var a=e.angle.mirror(t.startAngle,r,i),o=e.angle.mirror(e.angle.ofArcEnd(t),r,i),s=r!=i;return new e.paths.Arc(n,t.radius,s?o:a,s?a:o)},i[e.pathType.BezierSeed]=function(t,n,r,a){var o=i[e.pathType.Line](t,n,r,a);return o.type=e.pathType.BezierSeed,o.controls=t.controls.map((function(t){return e.point.mirror(t,r,a)})),o},t.layer=function(e,t){return e.layer=t,e},t.mirror=function(t,r,a){var o=null;if(t){var s=e.point.mirror(t.origin,r,a),u=i[t.type];u&&(o=u(t,s,r,a))}return n(t,o),o};var a={};function o(e,t){if(e){var n=a[e.type];n&&n(e,t),e.origin=t}return e}a[e.pathType.Line]=function(t,n){var r=e.point.subtract(t.end,t.origin);t.end=e.point.add(n,r)},t.move=o;var s={};function u(t,n,r){if(t&&n){t.origin=e.point.add(t.origin,n,r);var i=s[t.type];i&&i(t,n,r)}return t}s[e.pathType.Line]=function(t,n,r){t.end=e.point.add(t.end,n,r)},s[e.pathType.BezierSeed]=function(t,n,r){s[e.pathType.Line](t,n,r),t.controls=t.controls.map((function(t){return e.point.add(t,n,r)}))},t.moveRelative=u,t.moveTemporary=function(e,t,n){var r=!1;function i(e,n){t[n]&&u(e,t[n],r)}e.map(i),n(),r=!0,e.map(i)};var l={};l[e.pathType.Line]=function(t,n,r){t.end=e.point.rotate(t.end,n,r)},l[e.pathType.Arc]=function(t,n,r){t.startAngle=e.angle.noRevolutions(t.startAngle+n),t.endAngle=e.angle.noRevolutions(t.endAngle+n)},l[e.pathType.BezierSeed]=function(t,n,r){l[e.pathType.Line](t,n,r),t.controls=t.controls.map((function(t){return e.point.rotate(t,n,r)}))},t.rotate=function(t,n,r){if(void 0===r&&(r=[0,0]),!t||!n)return t;t.origin=e.point.rotate(t.origin,n,r);var i=l[t.type];return i&&i(t,n,r),t};var c={};c[e.pathType.Line]=function(t,n){t.end=e.point.scale(t.end,n)},c[e.pathType.BezierSeed]=function(t,n){c[e.pathType.Line](t,n),t.controls=t.controls.map((function(t){return e.point.scale(t,n)}))},c[e.pathType.Circle]=function(e,t){e.radius*=t},c[e.pathType.Arc]=c[e.pathType.Circle],t.scale=function(t,n){if(!t||1===n||!n)return t;t.origin=e.point.scale(t.origin,n);var r=c[t.type];return r&&r(t,n),t};var h={};h[e.pathType.Arc]=function(t,n,r){return new e.models.EllipticArc(t,n,r)},h[e.pathType.Circle]=function(t,n,r){var i=new e.models.Ellipse(t.radius*n,t.radius*r);return i.origin=e.point.distort(t.origin,n,r),i},h[e.pathType.Line]=function(t,n,r){return new e.paths.Line([t.origin,t.end].map((function(t){return e.point.distort(t,n,r)})))},h[e.pathType.BezierSeed]=function(t,n,r){var i=e.point.distort;return{type:e.pathType.BezierSeed,origin:i(t.origin,n,r),controls:t.controls.map((function(e){return i(e,n,r)})),end:i(t.end,n,r)}},t.distort=function(e,t,n){if(!e||!t||!n)return null;var r=h[e.type];if(r){var i=r(e,t,n);return void 0!==e.layer&&(i.layer=e.layer),i}return null},t.converge=function(t,n,r,i){var a=e.point.fromSlopeIntersection(t,n);if(a){let u=function(e,t){var n;(n=t?e.origin:e.end)[0]=a[0],n[1]=a[1]};var o=[t,n],s=[r,i];2===arguments.length&&o.forEach((function(t,n){s[n]=e.point.closest(a,[t.origin,t.end])===t.origin})),o.forEach((function(e,t){u(e,s[t])}))}return a};var p={};function f(t,n){if(1==n)return[e.point.middle(t)];var r=[],i=n;t.type!=e.pathType.Circle&&i--;for(var a=0;a<n;a++)r.push(e.point.middle(t,a/i));return r}p[e.pathType.Arc]=function(t,n,r,i){var a=e.angle.ofArcSpan(t),o=(n+r)*a/n-a;i?t.startAngle-=o:t.endAngle+=o},p[e.pathType.Circle]=function(e,t,n,r){e.radius*=(t+n)/t},p[e.pathType.Line]=function(t,n,r,i){var a=e.point.scale(e.point.subtract(t.end,t.origin),r/n);i?t.origin=e.point.subtract(t.origin,a):t.end=e.point.add(t.end,a)},t.alterLength=function(t,n,r){if(void 0===r&&(r=!1),!t||!n)return null;var i=p[t.type];if(i){var a=e.measure.pathLength(t);return!a||-n>=a?null:(i(t,a,n,r),t)}return null},t.toPoints=f;var d={};d[e.pathType.Line]=function(e){return 2},d[e.pathType.Circle]=function(t,n){var r=e.measure.pathLength(t);return r?(n=n||r,Math.max(8,Math.ceil(r/(n||r)))):0},d[e.pathType.Arc]=function(t,n){var r=e.measure.pathLength(t);if(!r)return 0;var i=Math.ceil(e.angle.ofArcSpan(t)/45)+1;return Math.max(i,Math.ceil(r/(n||r)))},t.toKeyPoints=function t(n,r){if(n.type==e.pathType.BezierSeed){var i,a=new e.models.BezierCurve(n);return e.model.findChains(a,(function(n,r,a){if(1==n.length){var o=n[0];switch(o.links[0].walkedPath.pathId){case"arc_0":case"line_0":break;default:e.chain.reverse(o)}i=e.chain.toKeyPoints(o)}else 1===r.length&&(i=t(r[0].pathContext))})),i}var o=d[n.type];if(o){var s=o(n,r);if(s)return f(n,s)}return[]},t.center=function(t){var n=e.measure.pathExtents(t),r=e.point.average(n.high,n.low);return o(t,e.point.subtract(t.origin||[0,0],r)),t},t.zero=function(t){var n=e.measure.pathExtents(t);return o(t,e.point.subtract(t.origin||[0,0],n.low)),t}}(e.path||(e.path={}))}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.path||(e.path={}),(n={})[e.pathType.Arc]=function(t,n){var r=e.angle.ofPointInDegrees(t.origin,n);if(e.measure.isAngleEqual(r,t.startAngle)||e.measure.isAngleEqual(r,t.endAngle))return null;var i=function(){for(var n=e.angle.noRevolutions(t.startAngle),i=n+e.angle.ofArcEnd(t)-t.startAngle,a=[0,1,-1],o=0;o<a.length;o++){var s=360*a[o];if(e.measure.isBetween(r+s,n,i,!0))return t.startAngle+r+s-n}return null}();if(null==i)return null;var a=t.endAngle;t.endAngle=i;var o=e.cloneObject(t);return o.startAngle=i,o.endAngle=a,o},n[e.pathType.Circle]=function(t,n){t.type=e.pathType.Arc;var r=t,i=e.angle.ofPointInDegrees(t.origin,n);return r.startAngle=i,r.endAngle=i+360,null},n[e.pathType.Line]=function(t,n){if(!e.measure.isBetweenPoints(n,t,!0))return null;var r=t.end;t.end=n;var i=e.cloneObject(t);return i.origin=n,i.end=r,i},t.breakAtPoint=function(e,t){if(e&&t){var r=n[e.type];if(r){var i=r(e,t);return i&&"layer"in e&&(i.layer=e.layer),i}}return null}}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(){return function(){for(var t,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];function o(t){var n=e.angle.ofPointInDegrees(t,i[h?1:0]),r=e.angle.ofPointInDegrees(t,i[h?0:1]);return r<n&&(r+=360),{origin:t,startAngle:n,endAngle:r,size:r-n}}switch(i.length){case 5:var s=i[0],u=i[1];this.radius=i[2];var l,c=i[3],h=i[4],p=e.measure.pointDistance(s,u)/2;if(e.round(this.radius-p)<=0)this.radius=p,l=o(e.point.average(s,u));else{for(var f=null!==(n=null===(t=e.path.intersection(new r(s,this.radius),new r(u,this.radius)))||void 0===t?void 0:t.intersectionPoints)&&void 0!==n?n:[s,u],d=[],v=f.length;v--;)l=o(f[v]),0==d.length||l.size>d[0].size?d.push(l):d.unshift(l);l=d[c?1:0]}this.origin=l.origin,this.startAngle=l.startAngle,this.endAngle=l.endAngle;break;case 4:this.origin=i[0],this.radius=i[1],this.startAngle=i[2],this.endAngle=i[3];break;case 3:if(e.isPoint(i[2])){r.apply(this,i);for(var g=[],m=0;m<3;m++)g.push(e.angle.ofPointInDegrees(this.origin,i[m]));this.startAngle=g[0],this.endAngle=g[2],e.measure.isBetweenArcAngles(g[1],this,!1)||(this.startAngle=g[2],this.endAngle=g[0]);break}case 2:h=i[2];r.call(this,i[0],i[1]),this.startAngle=e.angle.ofPointInDegrees(this.origin,i[h?1:0]),this.endAngle=e.angle.ofPointInDegrees(this.origin,i[h?0:1])}this.type=e.pathType.Arc}}();t.Arc=n;var r=function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(this.type=e.pathType.Circle,t.length){case 1:this.origin=[0,0],this.radius=t[0];break;case 2:e.isNumber(t[1])?(this.origin=t[0],this.radius=t[1]):(this.origin=e.point.average(t[0],t[1]),this.radius=e.measure.pointDistance(this.origin,t[0]));break;default:for(var r=[new i(t[0],t[1]),new i(t[1],t[2])],a=[],o=2;o--;){var s=e.point.middle(r[o]);a.push(e.path.rotate(r[o],90,s))}var u=e.point.fromSlopeIntersection(a[0],a[1]);if(!u)throw"invalid parameters - attempted to construct a circle from 3 points on a line: "+JSON.stringify(t);this.origin=u,this.radius=e.measure.pointDistance(this.origin,t[0])}}}();t.Circle=r;var i=function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(this.type=e.pathType.Line,t.length){case 1:var r=t[0];this.origin=r[0],this.end=r[1];break;case 2:this.origin=t[0],this.end=t[1]}}}();t.Line=i;var a=function(){return function(t){var n=e.point.fromArc(t);this.type=e.pathType.Line,this.origin=n[0],this.end=n[1]}}();t.Chord=a;var o=function(){return function(t,n,r){this.type=e.pathType.Line,this.origin=e.point.clone(t.origin),this.end=e.point.clone(t.end);var i=e.angle.ofLineInDegrees(this);function a(a){var o=e.point.add(t.origin,e.point.fromPolar(e.angle.toRadians(i+a),n));return{origin:o,nearness:e.measure.pointDistance(o,r)}}var o=[a(-90),a(90)],s=o[0].nearness<o[1].nearness?o[0].origin:o[1].origin;e.path.move(this,s)}}();t.Parallel=o}(e.paths||(e.paths={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n,r){void 0===r&&(r=!1);var i=r?n:o(e,n);return e.paths=e.paths||{},e.paths[i]=t,e}function r(e,t,n,r){void 0===r&&(r=!1);var i=r?n:a(e,n);return e.models=e.models||{},e.models[i]=t,e}function i(e,t){if(!e)return t;for(var n=0,r=t;r in e;)r=[t,++n].join("_");return r}function a(e,t){return i(e.models,t)}function o(e,t){return i(e.paths,t)}function s(t,n,r){if(void 0===r&&(r=!1),r&&t.origin&&(t.origin=e.point.scale(t.origin,n)),t.type===e.models.BezierCurve.typeName&&e.path.scale(t.seed,n),t.paths)for(var i in t.paths)e.path.scale(t.paths[i],n);if(t.models)for(var i in t.models)s(t.models[i],n,!0);return t.caption&&e.path.scale(t.caption.anchor,n),t}function u(t,i,a,o,s,u,l){var c=e.path.distort(i,s,u);((o=o||i.layer)&&(c.layer=o),e.isPath(c))?c.type===e.pathType.BezierSeed?r(t,new e.models.BezierCurve(c,l),a):n(t,c,a):r(t,c,a)}function l(t,n){if(t)return function t(r,i,a,o,s){var u=e.point.add(r.origin,a);if(i=null!=i?i:"",r.paths)for(var l in r.paths){var c=r.paths[l];if(c){var h={modelContext:r,layer:null!=c.layer?c.layer:i,offset:u,pathContext:c,pathId:l,route:o.concat(["paths",l]),routeKey:s+(s?".":"")+"paths"+JSON.stringify([l])};n.onPath&&n.onPath(h)}}if(r.models)for(var p in r.models){var f=r.models[p];if(f){var d={parentModel:r,layer:null!=f.layer?f.layer:i,offset:u,route:o.concat(["models",p]),routeKey:s+(s?".":"")+"models"+JSON.stringify([p]),childId:p,childModel:f};n.beforeChildWalk&&!n.beforeChildWalk(d)||(t(d.childModel,d.layer,u,d.route,d.routeKey),n.afterChildWalk&&n.afterChildWalk(d))}}}(t,t.layer,[0,0],[],""),t}t.addCaption=function(t,n,r,i){return r||(r=e.point.zero()),i||(i=e.point.clone(r)),t.caption={text:n,anchor:new e.paths.Line(r,i)},t},t.addPath=n,t.addModel=r,t.addTo=function(e,t,n,i){return void 0===i&&(i=!1),r(t,e,n,i),e},t.clone=function(t){return e.cloneObject(t)},t.countChildModels=function(e){var t=0;if(e.models)for(var n in e.models)t++;return t},t.getAllCaptionsOffset=function(n){var r=[];function i(t,n,i){t.caption&&r.push({text:t.caption.text,anchor:e.path.clone(t.caption.anchor,e.point.add(t.origin,n)),layer:t.caption.anchor.layer||i})}return i(n,n.origin,n.layer),t.walk(n,{afterChildWalk:function(e){return i(e.childModel,e.offset,e.layer)}}),r},t.getSimilarModelId=a,t.getSimilarPathId=o,t.layer=function(e,t){return e.layer=t,e},t.originate=function(t,n){return function t(n,r){if(n){var i=e.point.add(n.origin,r);if(n.type===e.models.BezierCurve.typeName&&e.path.moveRelative(n.seed,i),n.paths)for(var a in n.paths)e.path.moveRelative(n.paths[a],i);if(n.models)for(var a in n.models)t(n.models[a],i);n.caption&&e.path.moveRelative(n.caption.anchor,i),n.origin=e.point.zero()}}(t,n?e.point.subtract([0,0],n):[0,0]),n&&(t.origin=n),t},t.center=function(t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=e.measure.modelExtents(t),a=t.origin||[0,0];return n&&(a[0]-=i.center[0]),r&&(a[1]-=i.center[1]),t.origin=a,t},t.mirror=function t(n,r,i){var a={};if(!n)return null;if(n.origin&&(a.origin=e.point.mirror(n.origin,r,i)),n.type&&(a.type=n.type),"layer"in n&&(a.layer=n.layer),n.units&&(a.units=n.units),n.type===e.models.BezierCurve.typeName&&(a.type=e.models.BezierCurve.typeName,a.seed=e.path.mirror(n.seed,r,i)),n.paths)for(var o in a.paths={},n.paths){var s=n.paths[o];if(s){var u=e.path.mirror(s,r,i);u&&(a.paths[o]=u)}}if(n.models)for(var o in a.models={},n.models){var l=n.models[o];if(l){var c=t(l,r,i);c&&(a.models[o]=c)}}return n.caption&&(a.caption=e.cloneObject(n.caption),a.caption.anchor=e.path.mirror(n.caption.anchor,r,i)),a},t.move=function(t,n){return t.origin=e.point.clone(n),t},t.moveRelative=function(t,n){return t&&(t.origin=e.point.add(t.origin||e.point.zero(),n)),t},t.prefixPathIds=function(e,t){var n=[];l(e,{onPath:function(e){n.push(e)}});for(var r=0;r<n.length;r++){var i=n[r];delete i.modelContext.paths[i.pathId],i.modelContext.paths[t+i.pathId]=i.pathContext}return e},t.rotate=function t(n,r,i){if(void 0===i&&(i=[0,0]),!n||!r)return n;var a=e.point.subtract(i,n.origin);if(n.type===e.models.BezierCurve.typeName&&e.path.rotate(n.seed,r,a),n.paths)for(var o in n.paths)e.path.rotate(n.paths[o],r,a);if(n.models)for(var o in n.models)t(n.models[o],r,a);return n.caption&&e.path.rotate(n.caption.anchor,r,a),n},t.scale=s,t.distort=function t(n,i,a,o,s){void 0===o&&(o=!1);var l={};if(n.layer&&(l.layer=n.layer),o&&n.origin&&(l.origin=e.point.distort(n.origin,i,a)),n.type===e.models.BezierCurve.typeName){var c=n,h=e.models.BezierCurve.getBezierSeeds(c,{byLayers:!0,pointMatchingDistance:s}),p=function(e){h[e].forEach((function(t,n){u(l,t,n.toString(),e,i,a,s)}))};for(var f in h)p(f)}else if(n.paths)for(var d in n.paths){var v=n.paths[d];u(l,v,d,null,i,a,s)}if(n.models)for(var g in n.models){var m=t(n.models[g],i,a,!0,s);r(l,m,g)}return n.caption&&(l.caption=e.cloneObject(n.caption),l.caption.anchor=e.path.distort(n.caption.anchor,i,a)),l},t.convertUnits=function(t,n){if(t.units&&e.units.isValidUnit(t.units)&&e.units.isValidUnit(n)){var r=e.units.conversionScale(t.units,n);1!=r&&(s(t,r),t.units=n)}return t},t.walkPaths=function e(t,n){if(t.paths)for(var r in t.paths)t.paths[r]&&n(t,r,t.paths[r]);if(t.models)for(var i in t.models)t.models[i]&&e(t.models[i],n)},t.walk=l,t.zero=function(t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=e.measure.modelExtents(t),a=t.origin||[0,0];return n&&(a[0]-=i.low[0]),r&&(a[1]-=i.low[1]),t.origin=a,t}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t,n){var r=e.cloneObject(t);if(!r)return null;var i=e.path.breakAtPoint(r,n);if(i){for(var a=[r,i],o=2;o--;)if(0==e.round(e.measure.pathLength(a[o]),1e-4))return null;return a}return t.type==e.pathType.Circle?[r]:null}function r(t,n,r){var i=[];return t.forEach((function(t){e.measure.isPointOnPath(t,n,1e-5,null,r)&&i.push(t)})),i}function i(i,a,o,s,u,l){var c=[],h=[],p={onPath:function(i){var p={absolutePath:e.path.clone(i.pathContext,i.offset),pathId:i.pathId,overlapped:!1,uniqueForeignIntersectionPoints:[]},f=i;f.broken=!1,f.segments=[p];var d={onPath:function(t){i.pathContext!==t.pathContext&&e.measure.isMeasurementOverlapping(s.pathMap[i.routeKey],u.pathMap[t.routeKey])&&function(t,i,a){var o=a.pathContext,s=t.segments;if(e.measure.isPathEqual(s[0].absolutePath,o,1e-4,null,a.offset))return s[0].overlapped=!0,s[0].duplicate=!0,void i.push(s[0]);for(var u={},l={path1Offset:t.offset,path2Offset:a.offset},c=e.path.intersection(t.pathContext,o,l),h=c?c.intersectionPoints:null,p=e.point.fromPathEnds(o,a.offset)||[],f=0;f<s.length;f++){var d=r(h?p.concat(h):p,s[f].absolutePath,u);if(l.out_AreOverlapped&&(s[f].overlapped=!0,i.push(s[f])),d.length>0){for(var v=null,g=0;!v&&g<d.length;)v=n(s[f].absolutePath,d[g]),g++;if(v){if(t.broken=!0,s[f].absolutePath=v[0],v[1]){var m={absolutePath:v[1],pathId:s[0].pathId,overlapped:s[f].overlapped,uniqueForeignIntersectionPoints:[]};s[f].overlapped&&i.push(m),s.push(m)}f--}}}}(f,h,t)},beforeChildWalk:function(t){var n=u.modelMap[t.routeKey];return n&&e.measure.isMeasurementOverlapping(s.pathMap[i.routeKey],n)}};if(t.walk(a,d),o)for(var v=0;v<f.segments.length;v++){var g=e.point.middle(f.segments[v].absolutePath),m={measureAtlas:u,farPoint:l};f.segments[v].isInside=e.measure.isPointInsideModel(g,a,m),f.segments[v].uniqueForeignIntersectionPoints=m.out_intersectionPoints}c.push(f)}};return t.walk(i,p),{crossedPaths:c,overlappedSegments:h}}function a(n,r,i,a,o,s){function u(r,i,a){var s=t.getSimilarPathId(r,i),u=s==i?n.routeKey:e.createRouteKey(n.route.slice(0,-1).concat([s]));if(a.addedPath=e.cloneObject(n.pathContext),a.addedPath.type=a.absolutePath.type,e.path.copyProps(a.absolutePath,a.addedPath),e.path.moveRelative(a.addedPath,n.offset,!0),r.paths[s]=a.addedPath,n.broken){var l=e.measure.pathExtents(a.absolutePath);o.pathMap[u]=l,o.modelsMeasured=!1}else o.pathMap[u]=p}var l,c,h,p=o.pathMap[n.routeKey];delete n.modelContext.paths[n.pathId],delete o.pathMap[n.routeKey];for(var f=0;f<n.segments.length;f++)n.segments[f].duplicate?a?u(n.modelContext,n.pathId,n.segments[f]):s(n.segments[f].absolutePath,n.routeKey,"segment is duplicate"):(l=n.modelContext,c=n.pathId,(h=n.segments[f]).isInside&&r||!h.isInside&&i?u(l,c,h):(o.modelsMeasured=!1,s(h.absolutePath,n.routeKey,"segment is "+(h.isInside?"inside":"outside")+" intersectionPoints="+JSON.stringify(h.uniqueForeignIntersectionPoints))))}function o(n,r,o,s,u,l,c){void 0===o&&(o=!1),void 0===s&&(s=!0),void 0===u&&(u=!1),void 0===l&&(l=!0);var h={trimDeadEnds:!0,pointMatchingDistance:.005,out_deleted:[{paths:{}},{paths:{}}]};if(e.extendObject(h,c),h.measureA=h.measureA||new e.measure.Atlas(n),h.measureB=h.measureB||new e.measure.Atlas(r),h.measureA.measureModels(),h.measureB.measureModels(),!h.farPoint){var p=e.measure.increase(e.measure.increase({high:[null,null],low:[null,null]},h.measureA.modelMap[""]),h.measureB.modelMap[""]);h.farPoint=e.point.add(p.high,[1,1])}var f=i(n,r,!0,h.measureA,h.measureB,h.farPoint),d=i(r,n,!0,h.measureB,h.measureA,h.farPoint);function v(e,n,r,i){t.addPath(h.out_deleted[e],n,"deleted");var a=n;a.reason=i,a.routeKey=r}!function(t,n,r){function i(t){for(var i=0;i<n.length;i++)a=n[i],o=t,e.measure.isPathEqual(a.absolutePath,o.absolutePath,r)&&(a.duplicate=o.duplicate=!0);var a,o}for(var a=0;a<t.length;a++)i(t[a])}(f.overlappedSegments,d.overlappedSegments,h.pointMatchingDistance);for(var g=0;g<f.crossedPaths.length;g++)a(f.crossedPaths[g],o,s,!0,h.measureA,(function(e,t,n){return v(0,e,t,n)}));for(g=0;g<d.crossedPaths.length;g++)a(d.crossedPaths[g],u,l,!1,h.measureB,(function(e,t,n){return v(1,e,t,n)}));var m,y={models:{a:n,b:r}};h.trimDeadEnds&&(o||u||(m=function(e){for(var t=0;t<f.overlappedSegments.length;t++)if(f.overlappedSegments[t].duplicate&&e.pathContext===f.overlappedSegments[t].addedPath)return!1;return!0}),t.removeDeadEnds(y,null,m,(function(e,t){v("a"===e.route[1]?0:1,e.pathContext,e.routeKey,t)})));return e.extendObject(c,h),y}t.isPathInsideModel=function(t,n,r,i,a){var o={farPoint:i,measureAtlas:a},s=e.point.add(e.point.middle(t),r);return e.measure.isPointInsideModel(s,n,o)},t.breakPathsAtIntersections=function(t,n){var r,a=new e.measure.Atlas(t);return a.measureModels(),n?(r=new e.measure.Atlas(n)).measureModels():(n=t,r=a),i(t,n||t,!1,a,r),t},t.combine=o,t.combineIntersection=function(e,t){return o(e,t,!0,!1,!0,!1)},t.combineSubtraction=function(e,t){return o(e,t,!1,!0,!0,!1)},t.combineUnion=function(e,t){return o(e,t,!1,!0,!1,!0)}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){var t=function(){function e(e){this.comparer=e,this.collections=[]}return e.prototype.addItemToCollection=function(e,t){var n=this.findCollection(e);if(n)n.push(t);else{var r={key:e,items:[t]};this.collections.push(r)}},e.prototype.findCollection=function(e,t){for(var n=0;n<this.collections.length;n++){var r=this.collections[n];if(this.comparer(e,r.key))return t&&t(n),r.items}return null},e.prototype.removeCollection=function(e){var t=this;return!!this.findCollection(e,(function(e){t.collections.splice(e,1)}))},e.prototype.removeItemFromCollection=function(e,t){var n=this.findCollection(e);if(n){for(var r=0;r<n.length;r++)if(n[r]===t)return n.splice(r,1),!0;return!1}},e.prototype.getCollectionsOfMultiple=function(e){for(var t=0;t<this.collections.length;t++){var n=this.collections[t];n.items.length>1&&e(n.key,n.items)}},e}();e.Collector=t;var n=require_kdbush(),r=n.default||n,i=function(){function t(){this.reset()}return t.prototype.reset=function(){this.insertedCount=0,this.graph={},this.index={},this.merged={},this.values=[]},t.prototype.insertValue=function(e){return this.values.push(e),this.values.length-1},t.prototype.insertValueIdAtPoint=function(e,t){var n=t[0],r=t[1];this.graph[n]||(this.graph[n]={});var i,a,o=this.graph[n],s=r in o;return s?((a=o[r])in this.merged&&(a=this.merged[a]),(i=this.index[a]).valueIds.push(e)):(o[r]=a=this.insertedCount++,i={pointId:a,point:t,valueIds:[e]},this.index[a]=i),{existed:s,pointId:a}},t.prototype.mergePoints=function(e){var t=this,n=[],i=[];for(var a in this.index){var o=this.index[a],s=o.point;o.kdId=n.length,n.push(s),i.push(o)}this.kdbush=r(n);var u=function(n){if(n in l.merged)return"continue";var r=l.index[n];l.kdbush.within(r.point[0],r.point[1],e).forEach((function(e){e!==r.kdId&&t.mergeIndexElements(r,i[e])}))},l=this;for(var a in this.index)u(a)},t.prototype.mergeNearestSinglePoints=function(t){var n=this,i=[];for(var a in this.index){var o=this.index[a];1===o.valueIds.length&&i.push(o)}this.kdbush=r(i.map((function(e){return e.point}))),i.forEach((function(r){if(!(r.pointId in n.merged)){var a=n.kdbush.within(r.point[0],r.point[1],t),o=[];a.forEach((function(t){var n=i[t];n.pointId!==r.pointId&&o.push({el:n,distance:e.measure.pointDistance(n.point,r.point)})})),o.sort((function(e,t){return e.distance-t.distance}));for(var s=0;s<o.length;s++){var u=o[s].el;if(!(u.pointId in n.merged))return void(u.merged&&u.merged.length>0?n.mergeIndexElements(u,r):n.mergeIndexElements(r,u))}}}))},t.prototype.mergeIndexElements=function(e,t){return e.merged=e.merged||[],e.merged.push(t.pointId),this.merged[t.pointId]=e.pointId,e.valueIds.push.apply(e.valueIds,t.valueIds),delete this.index[t.pointId],e.pointId},t.prototype.forEachPoint=function(e){for(var t=this,n=0;n<this.insertedCount;n++){var r=this.index[n];if(r)r.valueIds.length>0&&e(r.point,r.valueIds.map((function(e){return t.values[e]})),n,r)}},t.prototype.getIdOfPoint=function(e){var t=this.graph[e[0]];if(t){var n=t[e[1]];if(n>=0)return n in this.merged?this.merged[n]:n}},t.prototype.getElementAtPoint=function(e){var t=this.getIdOfPoint(e);if(t>=0)return this.index[t]},t}();e.PointGraph=i}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n){var r=0;do{var i=e[r];do{for(var a=!1,o=r+1;o<e.length;o++){var s=e[o];if(a=t(i.pathContext,s.pathContext,!1)){n(i.pathContext,s.pathContext),delete s.modelContext.paths[s.pathId],e.splice(o,1);break}}}while(a);r++}while(r<e.length)}t.simplify=function(r,i){function a(t,n){return Math.abs(t.radius-n.radius)<=c.scalarMatchingDistance&&e.measure.pointDistance(t.origin,n.origin)<=c.pointMatchingDistance}var o=new e.Collector(a),s=new e.Collector(a),u=new e.Collector(e.measure.isSlopeEqual),l={};l[e.pathType.Arc]=function(e){o.addItemToCollection(e.pathContext,e)},l[e.pathType.Circle]=function(e){s.addItemToCollection(e.pathContext,e)},l[e.pathType.Line]=function(t){var n=e.measure.lineSlope(t.pathContext);u.addItemToCollection(n,t)};var c={scalarMatchingDistance:.001,pointMatchingDistance:.005};e.extendObject(c,i);var h={onPath:function(e){var t=l[e.pathContext.type];t&&t(e)}};return t.walk(r,h),o.getCollectionsOfMultiple((function(t,r){n(r,e.measure.isArcOverlapping,(function(t,n){var r=e.measure.isBetweenArcAngles(t.endAngle,n,!1),i=e.measure.isBetweenArcAngles(n.endAngle,t,!1);if(r&&i)t.endAngle=t.startAngle+360;else{var a=r?[t,n]:[n,t];t.startAngle=e.angle.noRevolutions(a[0].startAngle),t.endAngle=a[1].endAngle}}))})),s.getCollectionsOfMultiple((function(e,t){for(var n=1;n<t.length;n++){var r=t[n];delete r.modelContext.paths[r.pathId]}})),u.getCollectionsOfMultiple((function(t,r){n(r,e.measure.isLineOverlapping,(function(n,r){var i={paths:{lineA:n,lineB:r}},a=e.measure.modelExtents(i);t.hasSlope?t.slope<0?(n.origin=[a.low[0],a.high[1]],n.end=[a.high[0],a.low[1]]):t.slope>0?(n.origin=a.low,n.end=a.high):(n.origin[0]=a.low[0],n.end[0]=a.high[0]):(n.origin[1]=a.low[1],n.end[1]=a.high[1])}))})),r}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.path||(e.path={}),(n={})[e.pathType.Arc]=function(t,n,r){return new e.models.OvalArc(t.startAngle,t.endAngle,t.radius,n,!1,r)},n[e.pathType.Circle]=function(t,n,r){return new e.models.Ring(t.radius+n,t.radius-n)},n[e.pathType.Line]=function(t,n,r){return new e.models.Slot(t.origin,t.end,n,r)},t.expand=function(e,t,r){if(!e)return null;var i=null,a=n[e.type];return a&&((i=a(e,t,r)).origin=e.origin),i},t.straighten=function(t,n,r,i){var a=e.angle.ofArcSpan(t),o=1;a>=270?o=4:a>180?o=3:(a>150||n)&&(o=2);for(var s=e.angle.toRadians(a/o),u=e.models.Polygon.circumscribedRadius(t.radius,s),l=e.point.fromArc(t),c=[e.point.subtract(l[0],t.origin)],h=e.angle.toRadians(t.startAngle)+s/2,p=0;p<o;p++)c.push(e.point.fromPolar(h,u)),h+=s;c.push(e.point.subtract(l[1],t.origin));var f=new e.models.ConnectTheDots(i,c);return f.origin=t.origin,"string"==typeof r&&r.length&&e.model.prefixPathIds(f,r),f}}(MakerJs||(MakerJs={})),function(e){!function(t){function n(n,r,i,a){if(void 0===i&&(i=0),void 0===a&&(a={}),r<=0)return null;var o={models:{expansions:{models:{}},caps:{models:{}}}},s=!0,u=a.farPoint,l={onPath:function(n){if(!(a.pointMatchingDistance&&e.measure.pathLength(n.pathContext)<a.pointMatchingDistance)){var i=e.path.expand(n.pathContext,r,!0);if(i){t.moveRelative(i,n.offset);var l=t.getSimilarModelId(o.models.expansions,n.pathId);if(t.prefixPathIds(i,n.pathId+"_"),t.originate(i),s||(t.combine(o,i,!1,!0,!1,!0,a),a.measureA.modelsMeasured=!1,u=a.farPoint,delete a.farPoint,delete a.measureB),o.models.expansions.models[l]=i,i.models){var c=i.models.Caps;c&&(delete i.models.Caps,o.models.caps.models[l]=c)}s=!1}}}};if(t.walk(n,l),i){var c=o.models.caps,h={models:{}};for(var p in o.models.straightcaps=h,t.simplify(c),c.models)h.models[p]={models:{}},t.walk(c.models[p],{onPath:function(n){var r=n.pathContext,s=e.path.straighten(r,2==i,n.pathId+"_",!0);t.combine(o,s,!1,!0,!1,!0,a),a.measureA.modelsMeasured=!1,u=a.farPoint,delete a.farPoint,delete a.measureB,h.models[p].models[n.pathId]=s,delete n.modelContext.paths[n.pathId]}});delete o.models.caps}return a.farPoint=u,o}function r(e){var n=[];return t.findChains(e,(function(e,t,r){n=e.filter((function(e){return e.endless}))})),n}t.expandPaths=n,t.outline=function(t,i,a,o,s){void 0===a&&(a=0),void 0===o&&(o=!1),void 0===s&&(s={});var u=n(t,i,a,s);if(!u)return null;var l=function(t){var n=r(t);if(0==n.length)return null;var i={models:{}};return n.forEach((function(t,n){i.models[n]=e.chain.toNewModel(t)})),i}(t);if(l){var c=0,h={models:{}};return r(u).forEach((function(t){var n=t.links[0].walkedPath,r=e.measure.isPointInsideModel(e.point.middle(n.pathContext),l,n.offset);(o&&r||!o&&!r)&&(h.models[c++]=e.chain.toNewModel(t))})),h}return u}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n,r=e.unitType.Millimeter;function i(e,t,r){function i(e){return n[e]||(n[e]={}),n[e]}i(e)[t]=r,i(t)[e]=1/r}function a(e,t){i(e,r,t)}t.conversionScale=function(t,o){return t==o?1:(n||(n={},a(e.unitType.Centimeter,10),a(e.unitType.Meter,1e3),a(e.unitType.Inch,25.4),a(e.unitType.Foot,25.4*12)),n[t][o]||i(t,o,n[t][r]*n[r][o]),n[t]&&n[t][o])},t.isValidUnit=function(t){for(var n in e.unitType)if(e.unitType[n]==t)return!0;return!1}}(e.units||(e.units={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t,n,r){void 0===r&&(r=1e-4);var i=e.angle.noRevolutions(t),a=e.angle.noRevolutions(n);return 0==e.angle.noRevolutions(e.round(a-i,r))}t.isAngleEqual=n;var r={};function i(n,r,i){return i?!(!n||!r)&&t.pointDistance(n,r)<=i:0==e.round(n[0]-r[0])&&0==e.round(n[1]-r[1])}function a(e,t,n){return void 0===n&&(n=0),t.hasSlope?Math.abs(e[1]-(t.slope*e[0]+t.yIntercept))<=n:Math.abs(e[0]-t.line.origin[0])<=n}function o(e,n,r){return void 0===r&&(r=0),Math.abs(t.pointDistance(e,n.origin)-n.radius)<=r}r[e.pathType.Line]=function(e,t,n){return i(e.origin,t.origin,n)&&i(e.end,t.end,n)||i(e.origin,t.end,n)&&i(e.end,t.origin,n)},r[e.pathType.Circle]=function(e,t,n){return i(e.origin,t.origin,n)&&e.radius==t.radius},r[e.pathType.Arc]=function(t,i,a){return r[e.pathType.Circle](t,i,a)&&n(t.startAngle,i.startAngle)&&n(t.endAngle,i.endAngle)},t.isPathEqual=function(t,n,i,a,o){var s=!1;if(t.type==n.type){var u=r[t.type];if(u){let r=function(){s=u(t,n,i)};a||o?e.path.moveTemporary([t,n],[a,o],r):r()}}return s},t.isPointEqual=i,t.isPointDistinct=function(e,t,n){for(var r=0;r<t.length;r++)if(i(t[r],e,n))return!1;return!0},t.isPointOnSlope=a,t.isPointOnCircle=o;var s={};function u(t,n){return!t.hasSlope&&!n.hasSlope||!(!t.hasSlope||!n.hasSlope||0!=e.round(t.slope-n.slope,1e-5))}s[e.pathType.Circle]=function(e,t,n){return o(e,t,n)},s[e.pathType.Arc]=function(n,r,i){if(s[e.pathType.Circle](n,r,i)){var a=e.angle.ofPointInDegrees(r.origin,n);return t.isBetweenArcAngles(a,r,!1)}return!1},s[e.pathType.Line]=function(e,n,r,i){var o=i&&i.cachedLineSlope||t.lineSlope(n);return i&&!i.cachedLineSlope&&(i.cachedLineSlope=o),a(e,o,r)&&t.isBetweenPoints(e,n,!1)},t.isPointOnPath=function(t,n,r,i,a){void 0===r&&(r=0);var o=s[n.type];return!!o&&o(t,i?e.path.clone(n,i):n,r,a)},t.isSlopeEqual=function(t,n){if(!u(t,n))return!1;if(!t.hasSlope&&!n.hasSlope)return 0==e.round(t.line.origin[0]-n.line.origin[0]);var r=[t,n],i=r.map((function(t){return e.angle.toDegrees(Math.atan(t.slope))})),a=r.map((function(t){return e.path.clone(t.line)})),o=a[0].origin;a.forEach((function(t,n){return e.path.rotate(t,-i[n],o)}));var s=a.map((function(e){return(e.origin[1]+e.end[1])/2}));return 0==e.round(s[0]-s[1],1e-5)},t.isSlopeParallel=u}(e.measure||(e.measure={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n){function r(e,t,n){if(t)for(var r=2;r--;)null!=t[r]&&(null==e[r]?e[r]=t[r]:e[r]=n(e[r],t[r]))}return t&&(r(e.low,t.low,Math.min),r(e.high,t.high,Math.max)),n&&x(e),e}function r(e,t,n){function r(e,t){function r(t){return a(t,e,n)}return r(t.startAngle)||r(t.endAngle)}return r(e,t)||r(t,e)||e.startAngle==t.startAngle&&e.endAngle==t.endAngle}function i(e,t,n,r){return r?Math.min(t,n)<e&&e<Math.max(t,n):Math.min(t,n)<=e&&e<=Math.max(t,n)}function a(t,n,r){var a=e.angle.noRevolutions(n.startAngle),o=a+e.angle.ofArcSpan(n);return i(t=e.angle.noRevolutions(t),a,o,r)||i(t,a+360,o+360,r)||i(t,a-360,o-360,r)}function o(t,n,r){for(var a=!1,o=2;o--;)if(0!=e.round(n.origin[o]-n.end[o],1e-6)){var s=e.round(n.origin[o]),u=e.round(n.end[o]);if(!i(e.round(t[o]),s,u,r))return!1}else{if(a)return!1;a=!0}return!0}t.increase=n,t.isArcConcaveTowardsPoint=function(t,n){if(p(t.origin,n)<=t.radius)return!0;var r=new e.paths.Line(e.point.middle(t),n),i={};return!(!e.path.intersection(r,new e.paths.Chord(t),i)&&!i.out_AreOverlapped)},t.isArcOverlapping=function(e,t,n){return r(e,t,n)},t.isArcSpanOverlapping=r,t.isBetween=i,t.isBetweenArcAngles=a,t.isBetweenPoints=o,t.isBezierSeedLinear=function(e,n){for(var r=h(e),i=0;i<e.controls.length;i++)if(!t.isPointOnSlope(e.controls[i],r)){if(!n)return!1;if(o(e.controls[i],e,!1))return!1}return!0};var s=require_graham_scan_min();function u(e){return e.join(",")}function l(e,t){var n=new s,r=[];e.forEach((function(e){n.addPoint(e[0],e[1]),r.push(u(e))}));var i=n.getHull(),a=i.slice(0,3).map((function(e){return u([e.x,e.y])})),o=[];switch(r.forEach((function(e){~a.indexOf(e)&&o.push(e)})),o.indexOf(a[1])){case 0:o.unshift(o.pop());break;case 2:o.push(o.shift())}return t&&(t.hullPoints=i.map((function(e){return[e.x,e.y]})),t.keyPoints=e),a[0]!=o[0]}function c(t,n){for(var r=2;r--;)if(!(e.round(t.low[r]-n.high[r])<=0&&e.round(t.high[r]-n.low[r])>=0))return!1;return!0}function h(t){var n=t.end[0]-t.origin[0];if(0==e.round(n,1e-6))return{line:t,hasSlope:!1};var r=(t.end[1]-t.origin[1])/n;return{line:t,hasSlope:!0,slope:r,yIntercept:t.origin[1]-r*t.origin[0]}}function p(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function f(e,t,n){return[n(e[0],t[0]),n(e[1],t[1])]}t.isChainClockwise=function(t,n){return t.endless&&1!==t.links.length?l(e.chain.toKeyPoints(t),n):null},t.isPointArrayClockwise=l,t.isLineOverlapping=function(e,t,n){function r(e,t,r){function i(e){return o(e,t,n)}return i(r.origin)||i(r.end)}return r(0,e,t)||r(0,t,e)},t.isMeasurementOverlapping=c,t.lineSlope=h,t.pointDistance=p;var d={};function v(t,n){if(t){var r=d[t.type];if(r){var i=r(t);return n&&(i.high=e.point.add(i.high,n),i.low=e.point.add(i.low,n)),i}}return{low:null,high:null}}d[e.pathType.Line]=function(e){return{low:f(e.origin,e.end,Math.min),high:f(e.origin,e.end,Math.max)}},d[e.pathType.Circle]=function(t){var n=t.radius;return{low:e.point.add(t.origin,[-n,-n]),high:e.point.add(t.origin,[n,n])}},d[e.pathType.Arc]=function(t){var n=t.radius,r=e.point.fromArc(t);function i(e,n,i){for(var o=f(r[0],r[1],i),s=2;s--;)a(e[s],t,!1)&&(o[s]=n+t.origin[s]);return o}return{low:i([180,270],-n,Math.min),high:i([360,90],n,Math.max)}},t.pathExtents=v;var g={};function m(e){if(e){var t=g[e.type];if(t)return t(e)}return 0}function y(t,r){function i(t,i){if(i){var a,o=t.slice(0,-2),s=e.createRouteKey(o);s in r.modelMap?n(r.modelMap[s],i):r.modelMap[s]=(a=i,{high:e.point.clone(a.high),low:e.point.clone(a.low)})}}r||(r=new k(t));var a={onPath:function(e){e.routeKey in r.pathMap||(r.pathMap[e.routeKey]=v(e.pathContext,e.offset)),i(e.route,r.pathMap[e.routeKey])},afterChildWalk:function(e){i(e.route,r.modelMap[e.routeKey])}};e.model.walk(t,a),r.modelsMeasured=!0;var o=r.modelMap[""];return o?x(o):null}function x(t){var n=t;return n.center=e.point.average(n.high,n.low),n.width=n.high[0]-n.low[0],n.height=n.high[1]-n.low[1],n}g[e.pathType.Line]=function(e){return p(e.origin,e.end)},g[e.pathType.Circle]=function(e){return 2*Math.PI*e.radius},g[e.pathType.Arc]=function(t){var n=g[e.pathType.Circle](t);return n*=e.angle.ofArcSpan(t)/360},g[e.pathType.BezierSeed]=function(t){return e.models.BezierCurve.computeLength(t)},t.pathLength=m,t.modelPathLength=function(t){var n=0;return e.model.walk(t,{onPath:function(e){n+=m(e.pathContext)}}),n},t.modelExtents=y,t.augment=x;var k=function(){function e(e){this.modelContext=e,this.modelsMeasured=!1,this.modelMap={},this.pathMap={}}return e.prototype.measureModels=function(){this.modelsMeasured||y(this.modelContext,this)},e}();function M(e,t){return e.slope*t+e.yIntercept}function P(t,n,r,i){e.model.rotate(n,r);var a=y(n),o={index:t,rotation:i,center:e.point.rotate(a.center,i),width:a.height,height:a.width,bottom:new e.paths.Line(a.low,[a.high[0],a.low[1]]),middle:new e.paths.Line([a.low[0],a.center[1]],[a.high[0],a.center[1]]),top:new e.paths.Line(a.high,[a.low[0],a.high[1]])};return[o.top,o.middle,o.bottom].forEach((function(t){return e.path.rotate(t,i)})),o}function A(t,n){var r=t[1].origin,i=r[0],a=t[3].origin[0],o=t[0].origin[0],s=i-o;if(o-a>2*s)return null;var u=(i-a)/3;if(s<u)return null;var l,c,p=Math.min(u,s),f=e.solvers.equilateralSide(p),d=[e.point.fromSlopeIntersection(t[1],t[2]),e.point.fromSlopeIntersection(t[4],t[5])].map((function(e){return Math.abs(e[1]-r[1])})),v=d[0]>d[1]?0:1,g=d[v];if(g>f){var m=e.solvers.equilateralAltitude(g),y=i-2*m;if(o>y+m)return null;if(a<y-m)return null;var x=a-y+m,k=2*m-n[v+1].width,P=Math.min(x,k)/2;return{origin:(l=n[2-v].middle,c=y+P,[c,M(h(l),c)]),radius:g,type:"peak "+v}}return{origin:[i-2*p,r[1]],radius:f,type:"side"}}t.Atlas=k,t.boundingHexagon=function(n){var r=e.cloneObject(n);e.model.originate(r);var i=y(r),a=[],o={paths:{}};function s(t,n,r){return{radius:t,paths:new e.models.Polygon(6,t,30).paths,origin:e.point.add(n,i.center),notes:r}}e.model.center(r);for(var u=[[90,-90],[-60,-30],[-60,30]];u.length;){var l=u.shift(),c=P(a.length,r,l[0],l[1]),h=e.solvers.equilateralSide(c.width/2);if(h>=c.height)return s(h,c.center,"solved by bound "+a.length);a.push(c)}if(function(n){for(var r=1;r<3;r++)if(!t.isPointEqual(n[0].center,n[r].center,1e-6)||0!==e.round(n[0].width-n[r].width))return!1;return!0}(a))return s(e.solvers.equilateralSide(a[0].width/2),a[0].center,"solved as circular");var p=a.map((function(e){return e.top})).concat(a.map((function(e){return e.bottom})));p.forEach((function(t,n){o.paths[n]=t,e.path.converge(p[function(e,t){return t>=e?t-e:t<0?t+e:t}(6,n+2)],t,!0)})),a.forEach((function(e,t){o.paths["m"+t]=e.middle}));for(var f,d=a.slice(),v=0;v<6;v++){v>0&&(p.push(p.shift()),d.push(d.shift()),e.model.rotate(o,-60));var g=A(p,d);g&&(!f||g.radius<f.radius)&&((f=g).index=v)}var m=e.point.rotate(f.origin,60*f.index);return s(f.radius,m,"solved by "+f.index+" as "+f.type)},t.isPointInsideModel=function(n,r,i){var a;void 0===i&&(i={}),i.farPoint||(i.farPoint=function(t,n,r){if(n)return n;var i=y(t).high;return i?e.point.add(i,[1,1]):[7654321,1234567]}(r,i.farPoint,i.measureAtlas)),i.out_intersectionPoints=[];var o=new e.paths.Line(n,i.farPoint),s=v(o),u={onPath:function(n){if(!i.measureAtlas||c(s,i.measureAtlas.pathMap[n.routeKey])){var r={path2Offset:n.offset},u=e.path.intersection(o,n.pathContext,r);if(u)(function(e,n){var r=0;return n.forEach((function(n){t.isPointDistinct(n,e,1e-8)&&(e.push(n),r++)})),r})(i.out_intersectionPoints,u.intersectionPoints)%2==1&&(a=!a)}},beforeChildWalk:function(e){if(!i.measureAtlas)return!0;var t=i.measureAtlas.modelMap[e.routeKey];return t&&c(s,t)}};return e.model.walk(r,u),!!a}}(e.measure||(e.measure={}))}(MakerJs||(MakerJs={})),function(e){var t;(t=e.exporter||(e.exporter={})).toJson=function(t,n){return void 0===n&&(n={}),JSON.stringify(t,n.accuracy&&function(t,r){return e.isNumber(r)?e.round(r,n.accuracy):e.isPoint(r)?e.point.rounded(r,n.accuracy):r},n.indentation)},t.tryGetModelUnits=function(t){if(e.isModel(t))return t.units},t.colors={black:0,red:1,yellow:2,lime:3,aqua:4,blue:5,fuchsia:6,white:7,gray:9,maroon:14,orange:30,olive:58,green:94,teal:134,navy:174,purple:214,silver:254}}(MakerJs||(MakerJs={})),function(e){(e.importer||(e.importer={})).parseNumericList=function(e){for(var t,n=[],r=/-?(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;null!==(t=r.exec(e));)t.index===r.lastIndex&&r.lastIndex++,""!==t[0]&&n.push(parseFloat(t[0]));return n}}(MakerJs||(MakerJs={})),function(e){!function(t){t.toDXF=function(r,i){void 0===i&&(i={});var a={fontSize:9},o=[],s={entities:[],header:{},tables:{}};if(e.extendObject(a,i),e.isModel(r)){var u=r;u.exporterOptions&&e.extendObject(a,u.exporterOptions.toDXF)}function l(e){return a.layerOptions&&a.layerOptions[e]?a.layerOptions[e]:e in t.colors?{color:t.colors[e]}:void 0}function c(e,t){var n=e&&e.layer||t||"0";return o.indexOf(n)<0&&o.push(n),n}var h={};function p(t,n,r){return{type:"VERTEX",layer:c(null,n),x:e.round(t[0],a.accuracy),y:e.round(t[1],a.accuracy),bulge:r}}function f(t){var n={type:"POLYLINE",layer:c(null,t.layer),shape:t.chain.endless,vertices:[]};if(t.chain.links.forEach((function(r,i){var o;if(r.walkedPath.pathContext.type===e.pathType.Arc){var s=r.walkedPath.pathContext;o=e.round(Math.tan(e.angle.toRadians(e.angle.ofArcSpan(s))/4),a.accuracy),r.reversed&&(o*=-1)}var u=r.endPoints[r.reversed?1:0];n.vertices.push(p(u,t.layer,o))})),!t.chain.endless){var r=t.chain.links[t.chain.links.length-1],i=r.endPoints[r.reversed?0:1];n.vertices.push(p(i,t.layer))}return n}function d(t){var n=c(null,t.layer),r=l(n),i=e.point.middle(t.anchor);return{type:"TEXT",startPoint:p(i,null),endPoint:p(i,null),layer:n,textHeight:r&&r.fontSize||a.fontSize,text:t.text,halign:4,valign:0,rotation:e.angle.ofPointInDegrees(t.anchor.origin,t.anchor.end)}}if(h[e.pathType.Line]=function(t,n,r){return{type:"LINE",layer:c(t,r),vertices:[{x:e.round(t.origin[0]+n[0],a.accuracy),y:e.round(t.origin[1]+n[1],a.accuracy)},{x:e.round(t.end[0]+n[0],a.accuracy),y:e.round(t.end[1]+n[1],a.accuracy)}]}},h[e.pathType.Circle]=function(t,n,r){return{type:"CIRCLE",layer:c(t,r),center:{x:e.round(t.origin[0]+n[0],a.accuracy),y:e.round(t.origin[1]+n[1],a.accuracy)},radius:e.round(t.radius,a.accuracy)}},h[e.pathType.Arc]=function(t,n,r){return{type:"ARC",layer:c(t,r),center:{x:e.round(t.origin[0]+n[0],a.accuracy),y:e.round(t.origin[1]+n[1],a.accuracy)},radius:e.round(t.radius,a.accuracy),startAngle:e.round(t.startAngle,a.accuracy),endAngle:e.round(t.endAngle,a.accuracy)}},!a.units){var v=t.tryGetModelUnits(r);v&&(a.units=v)}e.extendObject(i,a);var g,m,y,x,k,M=[],P=[];if(a.usePOLYLINE){e.model.findChains(u,(function(t,n,r){t.forEach((function(t){if(t.endless&&1===t.links.length&&t.links[0].walkedPath.pathContext.type===e.pathType.Circle)P.push(t.links[0].walkedPath);else{var n={chain:t,layer:r};M.push(n)}})),P.push.apply(P,n)}),{byLayers:!0,pointMatchingDistance:a.pointMatchingDistance})}else{var A={onPath:function(e){P.push(e)}};e.model.walk(u,A)}return g=P,m=M,y=e.model.getAllCaptionsOffset(u),(x=s.entities).push.apply(x,m.map(f)),g.forEach((function(e){var t=h[e.pathContext.type];if(t){var n=t(e.pathContext,e.offset,e.layer);x.push(n)}})),x.push.apply(x,y.map(d)),function(){if(a.units){var e=n[a.units];s.header.$INSUNITS=e}}(),s.tables.lineType={lineTypes:{CONTINUOUS:{name:"CONTINUOUS",description:"______",patternLength:0}}},k={layers:{}},o.forEach((function(e){var t=l(e);t&&(k.layers[e]=function(e,t){return{name:e,color:t}}(e,t.color))})),s.tables.layer=k,function(e){var t=[];function n(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.push.apply(t,e)}var r={};function i(e){n("0","SECTION"),e(),n("0","ENDSEC")}function a(e){n("0","TABLE"),e(),n("0","ENDTAB")}function o(){n("2","TABLES"),a(l),a(c)}function s(e){n("0","LAYER","2",e.name,"70","0","62",e.color,"6","CONTINUOUS")}function u(e){n("0","LTYPE","72","65","70","64","2",e.name,"3",e.description,"73","0","40",e.patternLength)}function l(){var t="lineType",r=e.tables[t];for(var i in n("2","LTYPE"),r.lineTypes){u(r.lineTypes[i])}}function c(){var t="layer",r=e.tables[t];for(var i in n("2","LAYER"),r.layers){s(r.layers[i])}}function h(){for(var t in n("2","HEADER"),e.header){n("9",t,"70",e.header[t])}}function p(e){n("2","ENTITIES"),e.forEach((function(e){var t=r[e.type];t&&t(e)}))}return r.LINE=function(e){n("0","LINE","8",e.layer,"10",e.vertices[0].x,"20",e.vertices[0].y,"11",e.vertices[1].x,"21",e.vertices[1].y)},r.CIRCLE=function(e){n("0","CIRCLE","8",e.layer,"10",e.center.x,"20",e.center.y,"40",e.radius)},r.ARC=function(e){n("0","ARC","8",e.layer,"10",e.center.x,"20",e.center.y,"40",e.radius,"50",e.startAngle,"51",e.endAngle)},r.VERTEX=function(e){n("0","VERTEX","8",e.layer,"10",e.x,"20",e.y),void 0!==e.bulge&&n("42",e.bulge)},r.POLYLINE=function(e){n("0","POLYLINE","8",e.layer,"66",1,"70",e.shape?1:0),e.vertices.forEach((function(e){return r.VERTEX(e)})),n("0","SEQEND")},r.TEXT=function(e){n("0","TEXT","10",e.startPoint.x,"20",e.startPoint.y,"11",e.endPoint.x,"21",e.endPoint.y,"40",e.textHeight,"1",e.text,"50",e.rotation,"8",e.layer,"72",e.halign,"73",e.valign)},i(h),i(o),i((function(){return p(e.entities)})),n("0","EOF"),t.join("\n")}(s)};var n={"":0};n[e.unitType.Inch]=1,n[e.unitType.Foot]=2,n[e.unitType.Millimeter]=4,n[e.unitType.Centimeter]=5,n[e.unitType.Meter]=6}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.solvers||(e.solvers={}),n=Math.sqrt(3)/2,t.equilateralAltitude=function(e){return e*n},t.equilateralSide=function(e){return e/n},t.solveTriangleSSS=function(t,n,r){return e.angle.toDegrees(Math.acos((n*n+r*r-t*t)/(2*n*r)))},t.solveTriangleASA=function(t,n,r){var i=180-t-r;return n*Math.sin(e.angle.toRadians(t))/Math.sin(e.angle.toRadians(i))},t.circleTangentAngles=function(t,n,r){void 0===r&&(r=!1);var i,a=new e.paths.Line(t.origin,n.origin),o=e.measure.pointDistance(t.origin,n.origin);if(t.radius>=o+n.radius||n.radius>=o+t.radius)return null;if(r&&t.radius+n.radius>=o)return null;if(r||0!=e.round(t.radius-n.radius)){var s=o/2,u=new e.paths.Circle([s,0],s),l=new e.paths.Circle(t.radius>n.radius?[0,0]:[o,0],r?t.radius+n.radius:Math.abs(t.radius-n.radius)),c=e.path.intersection(l,u);if(!c||!c.path1Angles)return null;i=c.path1Angles}else i=[90,270];var h=e.angle.ofLineInDegrees(a);return i.map((function(t){return e.angle.noRevolutions(t+h)}))}}(MakerJs||(MakerJs={})),function(e){!function(t){var n={};function r(e,n,r,i){var a=r?[n.path2Offset,n.path1Offset]:[n.path1Offset,n.path2Offset];t.moveTemporary(e,a,i)}function i(e){var t=e.path1Angles;return e.path2Angles?e.path1Angles=e.path2Angles:delete e.path1Angles,t&&(e.path2Angles=t),e}function a(t,n){for(var r=[],i=0;i<t.length;i++)r.push(e.point.fromAngleOnCircle(t[i],n));return r}function o(t,n,r){if(!t)return null;for(var i=[],a=0;a<t.length;a++)e.measure.isBetweenArcAngles(t[a],n,r.excludeTangents)&&i.push(t[a]);return 0==i.length?null:i}function s(n,r,i){var a=e.round(r.radius);if(r.radius<=0)return null;var o=new e.paths.Line(e.point.subtract(n.origin,r.origin),e.point.subtract(n.end,r.origin)),s=e.angle.ofLineInDegrees(n),u=s>=180?s-360:s;function l(t){var n=t+u;return e.round(e.angle.noRevolutions(n))}t.rotate(o,-u,e.point.zero());var c=e.round(o.origin[1]),h=Math.abs(c);if(h>a)return null;var p=[];if(h==a){if(i.excludeTangents)return null;p.push(l(c>0?90:270))}else{let t=function(t,n){e.measure.isBetween(e.round(t),e.round(o.origin[0]),e.round(o.end[0]),i.excludeTangents)&&p.push(l(n))};var f=Math.asin(c/a),d=e.angle.toDegrees(f),v=Math.cos(f)*a;t(-v,180-d),t(v,d)}return p.length>0?p:null}function u(n,r,i){if(n.radius<=0||r.radius<=0)return null;if(n.radius==r.radius&&e.measure.isPointEqual(n.origin,r.origin,1e-4))return i.out_AreOverlapped=!0,null;e.point.subtract(e.point.zero(),n.origin);var a=new e.paths.Circle(e.point.zero(),n.radius),o=new e.paths.Circle(e.point.subtract(r.origin,n.origin),r.radius),s=e.angle.ofPointInDegrees(e.point.zero(),o.origin);function u(t){var n=t+s;return e.angle.noRevolutions(n)}t.rotate(o,-s,e.point.zero());var l=o.origin[0];if(0==e.round(o.radius-l-a.radius))return i.excludeTangents?null:[[u(180)],[u(180)]];if(0==e.round(o.radius+l-a.radius))return i.excludeTangents?null:[[u(0)],[u(0)]];if(0==e.round(l-o.radius-a.radius))return i.excludeTangents?null:[[u(0)],[u(180)]];if(e.round(l-o.radius)>a.radius)return null;if(e.round(l+o.radius)<a.radius)return null;if(e.round(l-o.radius)<-a.radius)return null;function c(t){return[u(t),u(e.angle.mirror(t,!1,!0))]}var h=e.solvers.solveTriangleSSS(o.radius,a.radius,l),p=e.solvers.solveTriangleSSS(a.radius,l,o.radius);return[c(h),c(180-p)]}n[e.pathType.Arc]={},n[e.pathType.Circle]={},n[e.pathType.Line]={},n[e.pathType.Arc][e.pathType.Arc]=function(t,n,i,s){var l=null;return r([t,n],i,s,(function(){var r=u(t,n,i);if(r){var s=o(r[0],t,i),c=o(r[1],n,i);if(s&&c)if(1===s.length||1===c.length)for(var h=0;h<s.length;h++)for(var p=0;p<c.length;p++){var f=e.point.fromAngleOnCircle(s[h],t),d=e.point.fromAngleOnCircle(c[p],n);if(e.measure.isPointEqual(f,d,1e-4))return void(l={intersectionPoints:[f],path1Angles:[s[h]],path2Angles:[c[p]]})}else l={intersectionPoints:a(s,t),path1Angles:s,path2Angles:c}}else i.out_AreOverlapped&&(i.out_AreOverlapped=e.measure.isArcOverlapping(t,n,i.excludeTangents))})),l},n[e.pathType.Arc][e.pathType.Circle]=function(e,t,n,i){var s=null;return r([e,t],n,i,(function(){var r=u(e,t,n);if(r){var i=o(r[0],e,n);if(i){var l;if(2==i.length)l=r[1];else{var c=function(e,t){for(var n=2;n--;)if(e[n]===t)return n}(r[0],i[0]);l=[r[1][c]]}s={intersectionPoints:a(i,e),path1Angles:i,path2Angles:l}}}})),s},n[e.pathType.Arc][e.pathType.Line]=function(e,t,n,i){var u=null;return r([e,t],n,i,(function(){var r=s(t,e,n);if(r){var i=o(r,e,n);i&&(u={intersectionPoints:a(i,e),path1Angles:i})}})),u},n[e.pathType.Circle][e.pathType.Arc]=function(t,r,a){var o=n[e.pathType.Arc][e.pathType.Circle](r,t,a,!0);return o?i(o):null},n[e.pathType.Circle][e.pathType.Circle]=function(e,t,n,i){var o=null;return r([e,t],n,i,(function(){var r=u(e,t,n);r&&(o={intersectionPoints:a(r[0],e),path1Angles:r[0],path2Angles:r[1]})})),o},n[e.pathType.Circle][e.pathType.Line]=function(e,t,n,i){var o=null;return r([e,t],n,i,(function(){var r=s(t,e,n);r&&(o={intersectionPoints:a(r,e),path1Angles:r})})),o},n[e.pathType.Line][e.pathType.Arc]=function(t,r,a){var o=n[e.pathType.Arc][e.pathType.Line](r,t,a,!0);return o?i(o):null},n[e.pathType.Line][e.pathType.Circle]=function(t,r,a){var o=n[e.pathType.Circle][e.pathType.Line](r,t,a,!0);return o?i(o):null},n[e.pathType.Line][e.pathType.Line]=function(t,n,i,a){var o=null;return r([t,n],i,a,(function(){var r=e.point.fromSlopeIntersection(t,n,i);r&&e.measure.isBetweenPoints(r,t,i.excludeTangents)&&e.measure.isBetweenPoints(r,n,i.excludeTangents)&&(o={intersectionPoints:[r]})})),o},t.intersection=function(e,t,r){if(void 0===r&&(r={}),e&&t){var i=n[e.type][t.type];if(i)return i(e,t,r)}return null}}(e.path||(e.path={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n={};function r(t){var r=e.point.fromPathEnds(t);if(r){let e=function(e){return{point:r[e],propertyName:i[e]}};var i=null,a=n[t.type];if(a)return i=a(t),[e(0),e(1)]}return null}function i(t,n,i){var a=r(t),o=r(n),s=null;function u(e,t,n){return{path:e,isStart:0==n,propertyName:t[n].propertyName,point:t[n].point,oppositePoint:t[1-n].point}}function l(r,i){return!!e.measure.isPointEqual(a[r].point,o[i].point,1e-4)&&(s=[u(t,a,r),u(n,o,i)],!0)}return l(0,0)||l(0,1)||l(1,0)||l(1,1),s}function a(n,r,i,a){for(var o=new e.paths.Circle(r,n),s=0;s<2;s++){var u=t.intersection(o,i[s].path);if(!u)return!1;if(i[s].shardPoint=u.intersectionPoints[0],e.measure.isPointEqual(i[s].point,u.intersectionPoints[0],1e-4)){if(!(u.intersectionPoints.length>1))return!1;i[s].shardPoint=u.intersectionPoints[1]}}return!0}n[e.pathType.Arc]=function(e){return["startAngle","endAngle"]},n[e.pathType.Line]=function(e){return["origin","end"]};var o={};function s(e,t,n){var r=null,i=o[e.path.type];return i&&(r=i(e.path,t,n,e.shardPoint,e.isStart)),r}o[e.pathType.Arc]=function(n,r,i,a,o){var s=n.radius,u=function(e,n){var r=t.clone(e);return[r,t.breakAtPoint(r,n)]}(n,a)[o?0:1];return u?(e.measure.isArcConcaveTowardsPoint(u,i)?s-=r:s+=r,e.round(s)<=0?null:new e.paths.Arc(n.origin,s,n.startAngle,n.endAngle)):null},o[e.pathType.Line]=function(t,n,r,i,a){return new e.paths.Parallel(t,n,r)};var u={};function l(e,t,n){var r=null,i=u[e.path.type];return i&&(r=i(e.path,e.propertyName,t,n)),h(e,r)||(r=null),r}function c(t,n){var r={filletAngle:e.angle.ofPointInDegrees(n,t.shardPoint),clipPath:function(){t.path[t.propertyName]=t.shardPoint}};return h(t,r)||(r=null),r}function h(t,n){var r=!1;if(n){var i=t.path[t.propertyName];n.clipPath(),e.measure.pathLength(t.path)>0&&(r=!0),t.path[t.propertyName]=i}return r}u[e.pathType.Arc]=function(t,n,r,i){var a=new e.paths.Line(t.origin,i),o=e.angle.ofLineInDegrees(a),s=o;return e.measure.isArcConcaveTowardsPoint(t,i)||(s+=180),{filletAngle:e.angle.noRevolutions(s),clipPath:function(){t[n]=o}}},u[e.pathType.Line]=function(n,r,i,a){var o=new e.paths.Line([0,0],[0,1]),s=e.angle.ofLineInDegrees(n);t.rotate(o,s,[0,0]),t.moveRelative(o,a);var u=e.point.fromSlopeIntersection(n,o);return u?{filletAngle:e.angle.ofPointInDegrees(a,u),clipPath:function(){n[r]=u}}:null},t.dogbone=function(t,n,r,o){if(e.isPathLine(t)&&e.isPathLine(n)&&r&&r>0){var s={pointMatchingDistance:.005};e.extendObject(s,o);var u=i(t,n);if(u){var l=function(t){for(var n=0,r=[],i=0;i<t.length;i++){var a=e.measure.pathLength(t[i]);r.push(a),n+=a}return r[0]/n}([t,n]),h=new e.paths.Line(u[0].oppositePoint,u[1].oppositePoint),p=e.point.middle(h,l),f=e.angle.ofPointInDegrees(u[0].point,p),d=e.point.add(u[0].point,e.point.fromPolar(e.angle.toRadians(f),r));if(!a(r,d,u))return null;for(var v=[],g=0;g<2;g++){var m=c(u[g],d);if(!m)return null;v.push(m)}var y=new e.paths.Arc(d,r,v[0].filletAngle,v[1].filletAngle);return e.round(e.angle.noRevolutions(e.angle.ofArcMiddle(y)))==e.round(f)&&(y.startAngle=v[1].filletAngle,y.endAngle=v[0].filletAngle),v[0].clipPath(),v[1].clipPath(),y}}return null},t.fillet=function(n,r,o,u){if(n&&r&&o&&o>0){var c={pointMatchingDistance:.005};e.extendObject(c,u);var h=i(n,r);if(h){if(!a(o,h[0].point,h))return null;for(var p=[],f=0;f<2;f++){var d=h[1-f].shardPoint;if(!d)return null;var v=s(h[f],o,d);p.push(v)}var g=t.intersection(p[0],p[1]);if(g){var m;m=1==g.intersectionPoints.length?g.intersectionPoints[0]:e.point.closest(h[0].point,g.intersectionPoints);var y=[];for(f=0;f<2;f++){var x=l(h[f],o,m);if(!x)return null;y.push(x)}if(0==e.round(y[0].filletAngle-y[1].filletAngle))return null;var k=new e.paths.Arc(m,o,y[0].filletAngle,y[1].filletAngle),M=e.angle.ofArcSpan(k);return 180==M?null:(M>180&&(k.startAngle=y[1].filletAngle,k.endAngle=y[0].filletAngle),y[0].clipPath(),y[1].clipPath(),k)}}}return null}}(e.path||(e.path={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t,n,r){var i={paths:{}},a=0,o=n.links;function s(n,s){var u=o[n].walkedPath,l=o[s].walkedPath;u.modelContext===l.modelContext&&u.modelContext.type==e.models.BezierCurve.typeName||e.path.moveTemporary([u.pathContext,l.pathContext],[u.offset,l.offset],(function(){var c,h;if(e.isObject(r)){var p=e.angle.ofChainLinkJoint(o[n],o[s]);if(0===e.round(p))return;c=p>0?r.left:r.right}else c=r;!c||c<0||(h=t?e.path.fillet(u.pathContext,l.pathContext,c):e.path.dogbone(u.pathContext,l.pathContext,c))&&(i.paths["fillet"+a]=h,a++)}))}for(var u=1;u<o.length;u++)s(u-1,u);return n.endless&&s(u-1,0),a?i:null}t.dogbone=function(e,t){return n(!1,e,t)},t.fillet=function(e,t){return n(!0,e,t)}}(e.chain||(e.chain={}))}(MakerJs||(MakerJs={})),function(e){var t;(t=e.kit||(e.kit={})).construct=function(e,t){function n(){return e.apply(this,t)}return n.prototype=e.prototype,new n},t.getParameterValues=function(e){var t=[],n=e.metaParameters;if(n)for(var r=0;r<n.length;r++){var i=n[r].value;Array.isArray(i)&&(i=i[0]),t.push(i)}return t}}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t){var n=t===e.reversed?1:0;return e.endPoints[n]}function r(r){for(var a,o,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];switch(s.length){case 1:"function"==typeof s[0]?o=s[0]:a=s[0];break;case 2:o=s[0],a=s[1]}var l={pointMatchingDistance:.005};e.extendObject(l,a);var c,h={},p={},f={},d={onPath:function(t){var n=l.byLayers?t.layer:"";h[n]||(h[n]=new e.PointGraph);var r=h[n],i=e.measure.pathLength(t.pathContext);if(t.pathContext.type===e.pathType.Circle||t.pathContext.type===e.pathType.Arc&&0===e.round(e.angle.ofArcSpan(t.pathContext)-360)||t.pathContext.type===e.pathType.BezierSeed&&e.measure.isPointEqual(t.pathContext.origin,t.pathContext.end,l.pointMatchingDistance)){var a={links:[{walkedPath:t,reversed:null,endPoints:null,pathLength:i}],endless:!0,pathLength:i};p[n]||(p[n]=[]),p[n].push(a)}else{if(i<l.pointMatchingDistance/5)return f[n]||(f[n]=[]),void f[n].push(t);for(var o=e.point.fromPathEnds(t.pathContext,t.offset),s=0;s<2;s++){var u={walkedPath:t,endPoints:o,reversed:0!=s,pathLength:i},c=r.insertValue(u);r.insertValueIdAtPoint(c,o[s])}}}};l.shallow&&(d.beforeChildWalk=function(){return!1}),l.unifyBeziers&&(c=function(n){var r=[];function i(t){t.childModel.type===e.models.BezierCurve.typeName&&r.push(t)}var a={beforeChildWalk:function(e){return i(e),!0}},o={childId:"",childModel:n,layer:n.layer,offset:n.origin,parentModel:null,route:[],routeKey:""};return i(o),t.walk(n,a),r}(r),i(c,!0,l.pointMatchingDistance)),t.walk(r,d);var v,g,m,y=function(t){var r=h[t];r.mergeNearestSinglePoints(l.pointMatchingDistance),v=[],p[t]||(p[t]=[]),function(e,t,n){function r(t,n,r){for(;t;){n.links.push(t),n.pathLength+=t.pathLength;var i=t.reversed?0:1,a=t.endPoints[i],o=e.getElementAtPoint(a);if(!o||0===o.valueIds.length)break;var s=(u=o.valueIds.map((function(t){return e.values[t]})),l=t.walkedPath.pathContext,u[0].walkedPath.pathContext===l?u[1]:u[0]);if(o.valueIds.splice(0,2),!s)break;if(s.walkedPath.pathContext===r.walkedPath.pathContext){n.links.length>1&&(n.endless=!0);break}t=s}var u,l}e.forEachPoint((function(e,i,a,o){if(o.valueIds.length>0){var s={links:[],pathLength:0};if(r(i[0],s,i[0]),s.endless)t(s,!1);else{s.links.reverse();var u=s.links[0];s.links.map((function(e){e.reversed=!e.reversed})),s.pathLength-=s.links[s.links.length-1].pathLength,r(s.links.pop(),s,u),s.links.length>1?t(s,!0):n(s.links[0].walkedPath)}}}))}(r,(function(r,i){r.endless=i?e.measure.isPointEqual(n(r.links[0],!0),n(r.links[r.links.length-1],!1),l.pointMatchingDistance):!!r.endless,p[t].push(r)}),(function(e){v.push(e)})),p[t].sort((function(e,t){return t.pathLength-e.pathLength})),l.contain&&(g=e.isObject(l.contain)?l.contain:{alternateDirection:!1},m=function(t,n){var r=t.map((function(t){return e.chain.toNewModel(t)})),i=[];t.forEach((function(n,a){if(n.endless){var o=n.links[0].walkedPath,s=e.path.clone(o.pathContext,o.offset);t.forEach((function(t,o){n!==t&&t.endless&&e.measure.isPointInsideModel(e.point.middle(s),r[o])&&(i[a]=t)}))}}));var a=[];if(t.forEach((function(e,t){var n=i[t];n?(n.contains||(n.contains=[]),n.contains.push(e)):a.push(e)})),n.alternateDirection){let t=function(n,r){n.forEach((function(n,i){var a=e.measure.isChainClockwise(n);null!==a&&(!a&&r||a&&!r)&&e.chain.reverse(n),n.contains&&t(n.contains,!r)}))};t(a,!0)}return a}(p[t],g),p[t]=m),o&&o(p[t],v,t,f[t])};for(var x in h)y(x);return c&&i(c,!1,l.pointMatchingDistance),l.byLayers?p:p[""]}function i(t,n,r){var i="tempPaths",a="tempLayer";t.forEach((function(t){var o=t.childModel;if(n){null!=t.layer&&""!==t.layer&&(o[a]=o.layer,o.layer=t.layer);var s=e.models.BezierCurve.getBezierSeeds(o,{byLayers:!0,pointMatchingDistance:r});for(var u in s){var l=s[u];if(l.length>0){o[i]=o.paths;var c={};l.forEach((function(e,t){e.layer=u,c["seed_"+t]=e})),o.paths=c}}}else i in o&&(o.paths=o[i],delete o[i]),a in o&&(null==o[a]?delete o.layer:o.layer=o[a],delete o[a])}))}t.findSingleChain=function(e){var t=null;return r(e,(function(e,n,r){t=e[0]}),{byLayers:!1}),t},t.findChains=r}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t){if(void 0===t&&(t=1),e.endless){for(var n=Math.abs(t),r=0;r<n;r++)t<0?e.links.push(e.links.shift()):e.links.unshift(e.links.pop());return e}}function r(t,n){!t||n.length<2||e.measure.isPointEqual(n[0],n[n.length-1],1e-5)&&n.pop()}t.cycle=n,t.reverse=function(e){return e.links.reverse(),e.links.forEach((function(e){return e.reversed=!e.reversed})),e},t.startAt=function(e,t){if(e.endless){for(var r=-1,i=0;i<e.links.length;i++)if(e.links[i].walkedPath.routeKey==t){r=i;break}return r>0&&n(e,r),e}},t.toNewModel=function(t,n){void 0===n&&(n=!1);for(var r={paths:{}},i=0;i<t.links.length;i++){var a=t.links[i].walkedPath;if(a.pathContext.type===e.pathType.BezierSeed){n&&delete a.modelContext.paths[a.pathId],r.models||(r.models={});var o=e.model.getSimilarModelId(r,a.pathId);r.models[o]=e.model.moveRelative(new e.models.BezierCurve(a.pathContext),a.offset)}else{var s;n?(s=a.pathContext,delete a.modelContext.paths[a.pathId]):s=e.path.clone(a.pathContext);var u=e.model.getSimilarPathId(r,a.pathId);r.paths[u]=e.path.moveRelative(s,a.offset)}}return r},t.toPoints=function(t,n,i){var a,o=[],s=0,u=0;Array.isArray(n)&&(a=n);for(var l=0;l<t.links.length;l++){for(var c=t.links[l],h=c.walkedPath,p=c.pathLength;e.round(p-u)>0;){var f,d=u/p;if(c.reversed&&(d=1-d),o.push(e.point.add(e.point.middle(h.pathContext,d),h.offset)),i&&o.length>=i)return o;if(a){if(f=a[s],++s>a.length)return o}else f=n;u+=f}u-=p}return r(t.endless,o),o},t.toKeyPoints=function(t,n){for(var i=[],a=0;a<t.links.length;a++){var o=t.links[a],s=o.walkedPath,u=e.path.toKeyPoints(s.pathContext,n);if(u.length>0){o.reversed&&u.reverse(),a>0&&u.shift();var l=u.map((function(t){return e.point.add(t,s.offset)}));i.push.apply(i,l)}}return r(t.endless,i),i}}(e.chain||(e.chain={}))}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.model||(e.model={}),n=function(){function n(t,n){this.modelContext=t,this.options=n,this.pointMap=new e.PointGraph,this.list=[],this.removed=[],this.ordinals={},this.load()}return n.prototype.load=function(){var n=this,r={onPath:function(t){var r=e.point.fromPathEnds(t.pathContext,t.offset);if(r){var i=t;i.endPoints=r;for(var a=n.pointMap.insertValue(i),o=2;o--;)n.pointMap.insertValueIdAtPoint(a,r[o])}}};t.walk(this.modelContext,r),this.options.pointMatchingDistance&&this.pointMap.mergePoints(this.options.pointMatchingDistance)},n.prototype.findDeadEnds=function(){var e=this,t=0;this.pointMap.forEachPoint((function(n,r,i,a){e.ordinals[i]=t++,e.list.push(a)})),t=0;for(var n=function(){var n=r.list[t];1===n.valueIds.length?r.removePath(n,n.valueIds[0],t):r.options.keep&&n.valueIds.length%2&&n.valueIds.forEach((function(r){var i=e.pointMap.values[r];e.options.keep(i)||e.removePath(n,r,t)})),t++},r=this;t<this.list.length;)n();return this.removed},n.prototype.removePath=function(e,t,n){var r=this.pointMap.values[t],i=this.getOtherPointId(r.endPoints,e.pointId),a=this.pointMap.index[i];this.removed.push(r),this.removeValue(e,t),this.removeValue(a,t),a.valueIds.length>0&&this.appendQueue(a,n)},n.prototype.removeValue=function(e,t){var n=e.valueIds.indexOf(t);n>=0&&e.valueIds.splice(n,1)},n.prototype.appendQueue=function(e,t){var n=this.ordinals[e.pointId];n<t&&(this.list[n]=null,this.list.push(e),this.ordinals[e.pointId]=this.list.length)},n.prototype.getOtherPointId=function(e,t){for(var n=0;n<e.length;n++){var r=this.pointMap.getIdOfPoint(e[n]);if(t!==r)return r}},n}(),t.removeDeadEnds=function(e,t,r,i){var a=new n(e,{pointMatchingDistance:t||.005,keep:r}),o=a.findDeadEnds();return o.length<a.pointMap.values.length&&o.forEach((function(e){i(e,"dead end"),delete e.modelContext.paths[e.pathId]})),e}}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.exporter||(e.exporter={}),n=function(){function e(e,t){this.name=e,this.attrs=t,this.innerText=""}return e.escapeString=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};for(var n in t)e=e.split(n).join(t[n]);return e},e.prototype.getOpeningTag=function(t){var n,r,i="";for(var a in this.attrs)n=a,null!=(r=this.attrs[a])&&void 0!==r&&((Array.isArray(r)||"object"==typeof r)&&(r=JSON.stringify(r)),"string"==typeof r&&(r=e.escapeString(r)),i+=" "+n+'="'+r+'"');return"<"+this.name+i+(t?"/":"")+">"},e.prototype.getInnerText=function(){return this.innerTextEscaped?this.innerText:e.escapeString(this.innerText)},e.prototype.getClosingTag=function(){return"</"+this.name+">"},e.prototype.toString=function(){return this.innerText||this.closingTags?this.getOpeningTag(!1)+this.getInnerText()+this.getClosingTag():this.getOpeningTag(!0)},e}(),t.XmlTag=n}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n){return n?e+"("+t+")":t}function r(t,n){if(n){var r=new e.paths.Circle([0,0],t.radius),i=e.measure.pathLength(r);if(i)return Math.ceil(i/n)}}function i(e,t,n){return function(r){e&&e({progress:t+r.progress*n/100})}}function a(t,n,r){return o((function(n,r){var i=e.chain.toKeyPoints(n,r);return i.push(i[0]),t.fromPoints(i)}),(function(e,t){return e.union(t)}),(function(e,t){return e.subtract(t)}),n,r)}function o(t,n,r,i,a){void 0===a&&(a={});var o={},s={total:0,complete:0};function u(e,t,r){var i=r.shift();return r.forEach((function(e){return i=n(i,e)})),s.complete++,a.statusCallback&&a.statusCallback({progress:e+t*s.complete/s.total}),i}function l(e,n){n.forEach((function(n){if(n.endless){var r={cag:t(n,a.maxArcFacet),subtracts:[]};if(n.contains){var i=function(e,n){var r=[];return n.forEach((function(n){n.endless&&(n.contains&&l(e,n.contains),s.total++,r.unshift(t(n,a.maxArcFacet)))})),r}(e,n.contains);i.length>0&&r.subtracts.push(i)}s.total++,e in o||(o[e]=[]),o[e].unshift(r)}}))}var c={pointMatchingDistance:a.pointMatchingDistance,byLayers:a.byLayers,contain:!0};a.statusCallback&&a.statusCallback({progress:25});var h=e.model.findChains(i,c);if(Array.isArray(h))l("",h);else for(var p in h)l(p,h[p]);a.statusCallback&&a.statusCallback({progress:50});var f=0;for(var p in o)f+=o[p].length;if(0===f)throw a.statusCallback&&a.statusCallback({progress:100}),"No closed geometries found.";var d={};for(var p in o){var v=o[p].map((function(e){var t=e.cag;return e.subtracts.forEach((function(e){var n=u(50,50,e);t=r(t,n)})),t}));d[p]=u(50,50,v)}return a.statusCallback&&a.statusCallback({progress:100}),c.byLayers?d:d[""]}function s(e,t,n){return u((function(n){return a(e,t,n)}),(function(e,t,n){var r=e.extrude({offset:[0,0,t]});return n&&(r=r.translate([0,0,n])),r}),(function(e,t){return e.union(t)}),t,n)}function u(t,n,r,a,o){void 0===o&&(o={});var s=o.statusCallback;a.exporterOptions&&e.extendObject(o,a.exporterOptions.toJscadCSG),o.byLayers=o.byLayers||o.layerOptions&&!0,o.statusCallback=i(s,0,50);var u,l,c=t(o),h=[];if(o.byLayers)for(var p in c){var f=o.layerOptions[p],d=n(c[p],f.extrude||o.extrude,(u=f.z,l=o.z,e.isNumber(u)?u:l));h.push(d)}else{d=n(c,o.extrude,o.z);h.push(d)}o.statusCallback=i(s,50,100);var v={total:h.length-1,complete:0},g=h.shift();return h.forEach((function(e,t){g=r(g,e),v.complete++,o.statusCallback({progress:v.complete/v.total})})),g}t.toJscadCAG=a,t.toJscadCSG=s,t.toJscadScript=function(t,i){function a(t,a){return c(function(t,i,a){var o="",s="",u=!0,l=!1,c=!1,h={};h[e.pathType.Circle]=function(t,s){var u={center:e.point.rounded(e.point.add(t.origin,s.walkedPath.offset),a),radius:e.round(t.radius,a),resolution:r(t,i)};o=n("CAG.circle",JSON.stringify(u),!0),l=!0},h[e.pathType.Line]=function(t,r){var i=r.endPoints.map((function(t){return e.point.rounded(t,a)}));r.reversed&&i.reverse(),o=n("new CSG.Path2D",JSON.stringify(i),!0)},h[e.pathType.Arc]=function(t,s){var u=e.angle.ofArcEnd(t);s.reversed&&(c=!0);var l={center:e.point.rounded(e.point.add(t.origin,s.walkedPath.offset),a),radius:e.round(t.radius,a),startangle:e.round(t.startAngle,a),endangle:e.round(u,a),resolution:r(t,i)};o=n("new CSG.Path2D.arc",JSON.stringify(l),!0)};var p={};function f(e){c?s=e+s:s+=e}p[e.pathType.Line]=function(t,r){var i=c!=r.reversed,o=e.point.rounded(r.endPoints[i?0:1],a);f(n(".appendPoint",JSON.stringify(o),!0))},p[e.pathType.Arc]=function(t,o){var s=c!=o.reversed,u=e.angle.ofArcEnd(t),l={radius:e.round(t.radius,a),clockwise:s,large:Math.abs(u-t.startAngle)>180,resolution:r(t,i)},h=e.point.rounded(o.endPoints[s?0:1],a);f(n(".appendArc",JSON.stringify(h)+","+JSON.stringify(l),!0))};for(var d=0;d<t.links.length;d++){var v=t.links[d],g=v.walkedPath.pathContext,m=u?h[g.type]:p[g.type];if(m&&m(g,v),l)return o;u=!1}return o+s+".close().innerToCAG()"}(t,a,i.accuracy))}function s(e,t){return e+".union(".concat(t,")")}function l(e,t){return e+".subtract(".concat(t,")")}function c(e){return"".concat(p).concat(h).concat(e).concat(p)}void 0===i&&(i={});var h=new Array((i.indent||0)+1).join(" "),p=i.indent?"\n":"",f=u((function(e){return o(a,s,l,t,i)}),(function(e,t,n){var r=e+".extrude({ offset: [0, 0, ".concat(t,"] })");return n&&(r+=".translate([0, 0, ".concat(n,"])")),r}),s,t,i).trim();return"function ".concat(i.functionName||"main","(){").concat(c("return ".concat(f,";")),"}").concat(p)},t.toJscadSTL=function(e,t,n,r){var a=r.statusCallback;r.statusCallback=i(a,0,50);var o=s(e,n,r);return t.serialize(o,{binary:!1,statusCallback:i(a,50,50)})}}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){var t;(t=e.exporter||(e.exporter={})).toPDF=function(n,r,i){if(r){var a={fontName:"Courier",fontSize:9,origin:[0,0],stroke:"#000"};e.extendObject(a,i);var o=1,s=a.units||r.units;o=s?e.units.conversionScale(s,e.unitType.Inch):.01,o*=72;var u=e.model.scale(e.cloneObject(r),o),l=e.measure.modelExtents(u),c=[-l.low[0],l.high[1]];c=e.point.add(c,a.origin),e.model.findChains(u,(function(r,i,o){function s(e){var r=t.pathToSVGPathData(e.pathContext,e.offset,c);n.path(r).stroke(a.stroke)}r.map((function(r){if(r.links.length>1){var i=t.chainToSVGPathData(r,c);n.path(i).stroke(a.stroke)}else{var o,u=r.links[0].walkedPath;u.pathContext.type===e.pathType.Circle?(e.path.moveTemporary([u.pathContext],[u.offset],(function(){o=e.path.mirror(u.pathContext,!1,!0)})),e.path.moveRelative(o,c),n.circle(o.origin[0],o.origin[1],u.pathContext.radius).stroke(a.stroke)):s(u)}})),i.map(s)}),{byLayers:!1}),n.font(a.fontName).fontSize(a.fontSize),e.model.getAllCaptionsOffset(u).forEach((function(t){var r=e.angle.ofLineInDegrees(t.anchor),i=e.path.mirror(t.anchor,!1,!0);e.path.moveRelative(i,c);var a=t.text,o=[n.widthOfString(a)/2,n.heightOfString(a)/2],s=e.point.middle(i),u=e.point.subtract(s,o);n.rotate(-r,{origin:s}),n.text(a,u[0],u[1]),n.rotate(r,{origin:s})}))}}}(MakerJs||(MakerJs={})),function(e){!function(t){var n={};function r(t){return e.point.mirror(t,!1,!0)}function i(t){var n=e.angle.ofArcSpan(t);t.startAngle=e.angle.noRevolutions(t.startAngle),t.endAngle=t.startAngle+n}function a(t,i,a){function o(t){return e.point.add(t,i)}for(var s=t.links[0],u=o(r(s.endPoints[s.reversed?1:0])),l=["M",e.round(u[0],a),e.round(u[1],a)],c=0;c<t.links.length;c++){var h,p=t.links[c],f=p.walkedPath.pathContext,d=n[f.type];if(d)e.path.moveTemporary([f],[p.walkedPath.offset],(function(){h=e.path.mirror(f,!1,!0)})),e.path.moveRelative(h,i),d(h,o(r(p.endPoints[p.reversed?0:1])),p.reversed,l,a)}return t.endless&&l.push("Z"),l.join(" ")}function o(t,n,r){return["M",e.round(t[0],r),e.round(t[1],r)].concat(n)}n[e.pathType.Arc]=function(t,n,r,i,a){i.push("A"),p(i,t.radius,n,a,e.angle.ofArcSpan(t)>180,r?t.startAngle>t.endAngle:t.startAngle<t.endAngle)},n[e.pathType.Line]=function(t,n,r,i,a){i.push("L",e.round(n[0],a),e.round(n[1],a))},n[e.pathType.BezierSeed]=function(e,t,n,r,i){h(r,e,i,n)},t.chainToSVGPathData=a;var s={};function u(t,n,r,i,a){var o,u=s[t.type];return u?(e.path.moveTemporary([t],[n],(function(){o=e.path.mirror(t,!1,!0)})),e.path.moveRelative(o,r),u(o,i,a).join(" ")):""}function l(t,n,r,i){var o={};return r.unifyBeziers=!0,e.model.findChains(t,(function(e,t,r){function s(e,t){var a=u(e.pathContext,e.offset,n,i,t);o[r].push(a)}o[r]=[],function e(t,u){t.forEach((function(t){if(t.links.length>1){var l=a(t,n,i);o[r].push(l)}else s(t.links[0].walkedPath,u);t.contains&&e(t.contains,!u)}))}(e,!0),t.forEach((function(e){return s(e)}))}),r),o}function c(t,n,r){var i=e.round(t,n),a=["m",-i,0];function o(e){a.push("a"),p(a,i,[2*i*e,0],n,!1,!r)}return o(1),o(-1),a.push("z"),a}function h(t,n,r,i){if(1===n.controls.length)t.push("Q",e.round(n.controls[0][0],r),e.round(n.controls[0][1],r));else{var a=i?[n.controls[1],n.controls[0]]:n.controls;t.push("C",e.round(a[0][0],r),e.round(a[0][1],r),e.round(a[1][0],r),e.round(a[1][1],r))}var o=i?n.origin:n.end;t.push(e.round(o[0],r),e.round(o[1],r))}function p(t,n,r,i,a,o){var s=e.round(n,i),u=r;t.push(s,s),t.push(0),t.push(a?1:0),t.push(o?0:1),t.push(e.round(u[0],i),e.round(u[1],i))}s[e.pathType.Line]=function(t,n){return o(t.origin,e.point.rounded(t.end,n),n)},s[e.pathType.Circle]=function(e,t,n){return o(e.origin,c(e.radius,t,n),t)},s[e.pathType.Arc]=function(t,n){i(t);var r=e.point.fromArc(t);if(e.measure.isPointEqual(r[0],r[1]))return s[e.pathType.Circle](t,n);var a=["A"];return p(a,t.radius,r[1],n,e.angle.ofArcSpan(t)>180,t.startAngle>t.endAngle),o(r[0],a,n)},s[e.pathType.BezierSeed]=function(e,t){var n=[];return h(n,e,t),o(e.origin,n,t)},t.pathToSVGPathData=u,t.toSVGPathData=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i={fillRule:"evenodd"};"boolean"==typeof n[0]?(i.byLayers=n[0],i.origin=n[1],i.accuracy=n[2]):e.isObject(n[0])&&e.extendObject(i,n[0]);var a={byLayers:i.byLayers,contain:!1};"nonzero"===i.fillRule&&(a.contain={alternateDirection:!0});var o=e.measure.modelExtents(t);i.origin||(i.origin=[-o.low[0],o.high[1]]);var s=l(t,i.origin,a,i.accuracy),u={};for(var c in s)u[c]=s[c].join(" ");return a.byLayers?u:u[""]},t.toSVG=function(n,a){function o(e,t,n){void 0===n&&(n=!1),!n&&"string"==typeof t&&t.length>0?(t in k||(k[t]=[]),k[t].push(e)):x.push(e)}function s(e){var t=[];function n(e,n){void 0!==n&&t.push(e+":"+n)}return n("stroke",e.stroke),n("stroke-width",e.strokeWidth),n("fill",e.fill),t.join(";")}function u(t,n){n&&e.extendObject(t,{stroke:n.stroke,"stroke-width":n.strokeWidth,fill:n.fill,style:n.cssStyle||s(n),class:n.className})}function f(e){return m.layerOptions&&m.layerOptions[e]?m.layerOptions[e]:e in t.colors?{stroke:e}:void 0}function d(e,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=!1),"text"!==e&&u(n,f(r)),m.scalingStroke||(n["vector-effect"]="non-scaling-stroke");var s=new t.XmlTag(e,n);s.closingTags=m.closingTags,i&&(s.innerText=i),o(s.toString(),r,a)}function v(t,n){var r=e.path.mirror(t,!1,!0);return e.path.moveRelative(e.path.scale(r,m.scale),n)}var g,m={accuracy:.001,annotate:!1,origin:null,scale:1,stroke:"#000",strokeLineCap:"round",strokeWidth:"0.25mm",fill:"none",fillRule:"evenodd",fontSize:"9pt",useSvgPathOnly:!0,viewBox:!0};e.extendObject(m,a);var y=e.isModel(n);y&&(g=n).exporterOptions&&e.extendObject(m,g.exporterOptions.toSVG);var x=[],k={};if(y)g=n;else if(Array.isArray(n)){var M={};n.forEach((function(e,t){M[t]=e})),g={paths:M}}else e.isPath(n)&&(g={paths:{modelToMeasure:n}});var P=e.measure.modelExtents(g),A=e.model.getAllCaptionsOffset(g);if(A.forEach((function(t){e.measure.increase(P,e.measure.pathExtents(t.anchor),!0)})),!m.units){var b=t.tryGetModelUnits(n);b&&(m.units=b)}var w=t.svgUnit[m.units];if(w&&m.viewBox&&(m.scale*=w.scaleConversion),P&&!m.origin){var T=-P.low[0]*m.scale;m.origin=[T,P.high[1]*m.scale]}e.extendObject(a,m);var C={};if(P&&m.viewBox){var z=e.round(P.width*m.scale,m.accuracy),J=e.round(P.height*m.scale,m.accuracy),S=[0,0,z,J],L=w?w.svgUnitType:"";C={width:z+L,height:J+L,viewBox:S.join(" ")}}C.xmlns="http://www.w3.org/2000/svg";var _=new t.XmlTag("svg",e.extendObject(C,m.svgAttrs));o(_.getOpeningTag(!1));var E={id:"svgGroup","stroke-linecap":m.strokeLineCap,"fill-rule":m.fillRule,"font-size":m.fontSize};u(E,m);var I=new t.XmlTag("g",E);if(o(I.getOpeningTag(!1)),m.useSvgPathOnly){var O={byLayers:!0};"nonzero"===m.fillRule&&(O.contain={alternateDirection:!0});var D=l(g,m.origin,O,m.accuracy);for(var R in D){var B={d:D[R].join(" ")};R.length>0&&(B.id=R),d("path",B,R,null,!0)}}else{let n=function(t,n,r){d("text",{id:t+"_text",x:e.round(n[0],m.accuracy),y:e.round(n[1],m.accuracy)},r,t)},a=function(t,r,i,a,o,s,u,l,c){d("path",{id:t,"data-route":s,d:["M",e.round(r,m.accuracy),e.round(i,m.accuracy)].concat(a).join(" ")},o),l&&n(t,u,o)},s=function(e,t,n,r,i,o,s){var u=c(n,m.accuracy);a(e,t[0],t[1],u,r,i,t,o,s)},l=function(t,n,r,i,a){var o="flow";j[e.pathType.Circle]("",new e.paths.Circle(r,t.size/2),n,o,null,!1,null);var s=[-1*t.size,t.size/2];[s,e.point.mirror(s,!1,!0)].map((function(t){return new e.paths.Line(e.point.add(e.point.rotate(t,a),i),i)})).forEach((function(t){return j[e.pathType.Line]("",t,n,o,null,!1,null)}))},y=function(e,t){N.attrs={id:e},o(N.getOpeningTag(!1),t.layer)},x=function(e){o(N.getClosingTag(),e.layer)};var j={};j[e.pathType.Line]=function(t,r,i,a,o,s,u){var c=r.origin,h=r.end;d("line",{id:t,class:a,"data-route":o,x1:e.round(c[0],m.accuracy),y1:e.round(c[1],m.accuracy),x2:e.round(h[0],m.accuracy),y2:e.round(h[1],m.accuracy)},i),s&&n(t,e.point.middle(r),i),u&&l(u,i,r.origin,r.end,e.angle.ofLineInDegrees(r))},j[e.pathType.Circle]=function(t,r,i,a,o,s,u){var l=r.origin;d("circle",{id:t,class:a,"data-route":o,r:r.radius,cx:e.round(l[0],m.accuracy),cy:e.round(l[1],m.accuracy)},i),s&&n(t,l,i)},j[e.pathType.Arc]=function(t,n,r,o,u,c,h){i(n);var f=e.point.fromArc(n);if(e.measure.isPointEqual(f[0],f[1]))s(t,n.origin,n.radius,r,u,c,h);else{var d=["A"];p(d,n.radius,f[1],m.accuracy,e.angle.ofArcSpan(n)>180,n.startAngle>n.endAngle),a(t,f[0][0],f[0][1],d,r,u,e.point.middle(n),c,h),h&&l(h,r,f[1],f[0],e.angle.noRevolutions(n.startAngle-90))}},j[e.pathType.BezierSeed]=function(t,n,r,i,o,s,u){var l=[];h(l,n,m.accuracy),a(t,n.origin[0],n.origin[1],l,r,o,e.point.middle(n),s,u)};var N=new t.XmlTag("g"),q={beforeChildWalk:function(e){return y(e.childId,e.childModel),!0},onPath:function(t){var n,i,a=j[t.pathContext.type];if(a){var o=e.point.add((n=t.offset,i=r(n),e.point.scale(i,m.scale)),m.origin);a(t.pathId,v(t.pathContext,o),t.layer,null,t.route,m.annotate,m.flow)}},afterChildWalk:function(e){x(e.childModel)}};for(var U in y("0",g),e.model.walk(g,q),k){var K=new t.XmlTag("g",{id:U});u(K.attrs,f(U));for(var X=0;X<k[U].length;X++)K.innerText+=k[U][X];K.innerTextEscaped=!0,o(K.toString())}x(g)}var G=A.map((function(n){var r=v(n.anchor,m.origin),i=e.point.rounded(e.point.middle(r),m.accuracy),a=new t.XmlTag("text",{"alignment-baseline":"middle","text-anchor":"middle",transform:"rotate(".concat(e.angle.ofLineInDegrees(r),",").concat(i[0],",").concat(i[1],")"),x:i[0],y:i[1]});return u(a.attrs,f(n.layer)),a.innerText=n.text,a.toString()}));if(G.length){var F=new t.XmlTag("g",{id:"captions"});u(F.attrs,f(F.attrs.id)),F.innerText=G.join(""),F.innerTextEscaped=!0,o(F.toString())}return o(I.getClosingTag()),o(_.getClosingTag()),x.join("")},t.svgUnit={},t.svgUnit[e.unitType.Inch]={svgUnitType:"in",scaleConversion:1},t.svgUnit[e.unitType.Millimeter]={svgUnitType:"mm",scaleConversion:1},t.svgUnit[e.unitType.Centimeter]={svgUnitType:"cm",scaleConversion:1},t.svgUnit[e.unitType.Foot]={svgUnitType:"in",scaleConversion:12},t.svgUnit[e.unitType.Meter]={svgUnitType:"cm",scaleConversion:100}}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){var t;(t=e.importer||(e.importer={})).fromSVGPathData=function(n,r){void 0===r&&(r={});var i={};function a(e){i.paths||(i.paths={}),i.paths["p_"+ ++d]=e}function o(e){i.models||(i.models={}),i.models["p_"+ ++d]=e}function s(t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.from),n<0&&(n+=t.data.length);var i=e.point.mirror([t.data[0+n],t.data[1+n]],!1,!0);return t.absolute?i:e.point.add(i,r)}function u(t,n){return e.measure.isPointEqual(t.from,n)||a(new e.paths.Line(t.from,n)),n}for(var l,c,h={M:function(e){if(p=s(e),e.data.length>2){e.from=p;for(var t=2;t<e.data.length;t+=2)e.from=u(e,s(e,t));return e.from}return p},Z:function(e){return u(e,p)},H:function(t){var n=e.point.clone(t.from);return t.absolute?n[0]=t.data[0]:n[0]+=t.data[0],u(t,n)},V:function(t){var n=e.point.clone(t.from);return t.absolute?n[1]=-t.data[0]:n[1]-=t.data[0],u(t,n)},L:function(e){for(var t,n=0;n<e.data.length;n+=2)t=s(e,n),e.from=u(e,t);return e.from},A:function(t){for(var n,i,u,l,c,h,p,f,d,v,g,m=0;m<t.data.length;m+=7)n=t.data[0+m],i=t.data[1+m],u=t.data[2+m],l=1===t.data[3+m],c=1===t.data[4+m],h=s(t,5+m),p=n!==i,f=new e.paths.Line(t.from,e.point.rotate(h,u,t.from)),p&&(f=e.path.distort(f,1,n/i)),d=new e.paths.Arc(f.origin,f.end,n,l,c),p?(n<d.radius&&(n*=v=d.radius/n,i*=v),g=new e.models.EllipticArc(d,1,i/n,r.bezierAccuracy),e.model.rotate(g,-u,t.from),o(g)):(e.path.rotate(d,-u,t.from),a(d)),t.from=h;return h},C:function(t){for(var n,i,a,u=t.from,l=0;l<t.data.length;l+=6)t.from=u,n=s(t,0+l,u),i=s(t,2+l,u),a=s(t,4+l,u),o(new e.models.BezierCurve(u,n,i,a,r.bezierAccuracy)),u=a;return a},S:function(t){var n,i,a,u,l=t.from;i="C"===t.prev.command||"S"===t.prev.command?s(t.prev,-4):t.from;for(var c=0;c<t.data.length;c+=4)t.from=l,n=e.point.rotate(i,180,l),a=s(t,0+c),u=s(t,2+c),o(new e.models.BezierCurve(l,n,a,u,r.bezierAccuracy)),l=u,i=a;return u},Q:function(t){for(var n,i,a=t.from,u=0;u<t.data.length;u+=4)t.from=a,n=s(t,0+u),i=s(t,2+u),o(new e.models.BezierCurve(a,n,i,r.bezierAccuracy)),a=i;return i},T:function(t){var n,i,a;"Q"===t.prev.command?(i=s(t.prev,-4),n=e.point.rotate(i,180,t.from)):"T"===t.prev.command?(t.prev.absolute=!0,n=s(t.prev,-2)):n=t.from;for(var u=0;u<t.data.length;u+=2)a=s(t,0+u),o(new e.models.BezierCurve(t.from,n,a,r.bezierAccuracy)),t.from=a,n=e.point.rotate(n,180,t.from);var l=e.point.mirror(n,!1,!0);return t.data.push.apply(t.data,l),a}},p=[0,0],f=[0,0],d=0,v=/([achlmqstvz])([0-9e\.,\+-\s]*)/gi;null!==(c=v.exec(n));){c.index===v.lastIndex&&v.lastIndex++;var g=c[1],m=c[2],y={command:g.toUpperCase(),data:[],from:f,prev:l};g===y.command&&(y.absolute=!0),y.data=t.parseNumericList(m);var x=h[y.command];x&&(f=x(y)),l=y}return i}}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t,n){var r=new e.measure.Atlas(t),i=e.measure.modelExtents(t,r),a=i.high[1],o=[],s={},u={beforeChildWalk:function(t){var u=t.childModel,l=r.modelMap[t.routeKey];if(l){var c=e.measure.augment(l);e.model.originate(u,[c.center[0],a*n]);var h=u.origin[0]-i.low[0];s[t.childId]=h;var p=h/i.width;return o.push({childId:t.childId,xRatio:p}),!1}}};e.model.walk(t,u),o.sort((function(e,t){return e.xRatio-t.xRatio}));var l=o[0],c=o[o.length-1];if(o.length>1){var h=l.xRatio,p=c.xRatio-h;o.forEach((function(e){return e.xRatio=(e.xRatio-h)/p}))}return{cpa:o,firstX:s[l.childId],lastX:i.width-s[c.childId]}}function r(t,n,r){n.forEach((function(n){var i=t.models[n.childId];i.origin=n.origin,r&&e.model.rotate(i,n.angle,n.origin)}))}var i={};function a(t,n,r,i){var a,o,s,u={};e.isModel(n)?(o=e.measure.modelExtents,a=u.models={},s=e.model.move):(o=e.measure.pathExtents,a=u.paths={},s=e.path.move);for(var l=o(n),c=l.high[t]-l.low[t],h=0;h<r;h++){var p=[0,0];p[t]=h*(c+i),a[h]=s(e.cloneObject(n),p)}return u}function o(e,t,n){return void 0===n&&(n=0),a(1,e,t,n)}function s(e,t,n){return void 0===n&&(n=0),a(0,e,t,n)}function u(e){return Array.isArray(e)?e:[e,e]}function l(t,n,r,i){for(var a=i(e.isModel(t)?t:{paths:{0:t}}),o={models:{}},u=0;u<r;u++){var l=u%2;o.models[u]=e.model.move(s(t,n+l,a.xMargin),[l*a.x,u*a.y])}return o}i[e.pathType.Arc]=function(t,n,r){var i=e.angle.ofArcSpan(t);r.forEach((function(e){return e.angle=n?t.endAngle-e.xRatio*i-90:t.startAngle+e.xRatio*i+90}))},i[e.pathType.Line]=function(t,n,r){var i=e.angle.ofLineInDegrees(t);r.forEach((function(e){return e.angle=i}))},t.childrenOnPath=function(t,a,o,s,u,l){void 0===o&&(o=0),void 0===s&&(s=!1),void 0===u&&(u=!1),void 0===l&&(l=!0);var c=n(t,o),h=c.cpa,p=a;if(u&&h.length>1){var f=e.measure.pathLength(a);c.firstX+c.lastX<f&&(p=e.path.clone(a),e.path.alterLength(p,-c.firstX,!0),e.path.alterLength(p,-c.lastX))}h.forEach((function(t){return t.origin=e.point.middle(p,s?1-t.xRatio:t.xRatio)}));var d=i[p.type];return d&&d(p,s,h),r(t,h,l),t},t.childrenOnChain=function(t,i,a,o,s,u){void 0===a&&(a=0),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===u&&(u=!0);var l,c=n(t,a),h=c.cpa,p=i.pathLength;if(h.length>1){s&&(p-=c.firstX+c.lastX);var f,d=h.map((function(e){return(o?1-e.xRatio:e.xRatio)*p}));if(o&&d.reverse(),f=d.map((function(e,t){return Math.abs(e-(0==t?0:d[t-1]))})),s?f[0]+=o?c.lastX:c.firstX:f.shift(),(l=e.chain.toPoints(i,f)).length<h.length){var v=i.links[i.links.length-1];l.push(v.endPoints[v.reversed?0:1])}s&&l.shift()}else(l=e.chain.toPoints(i,.5*p)).length=2,l.push(i.links[i.links.length-1].endPoints[i.links[i.links.length-1].reversed?0:1]);o&&l.reverse();var g=function(t,n){var r=new e.paths.Arc([0,0],0,0,0);return t.map((function(i,a){var o;return 0===a?o=e.angle.ofPointInDegrees(i,t[a+1])+90:a===t.length-1?o=e.angle.ofPointInDegrees(t[a-1],i)+90:(r.origin=i,r.startAngle=e.angle.ofPointInDegrees(i,t[a+1]),r.endAngle=e.angle.ofPointInDegrees(i,t[a-1]),o=e.angle.ofArcMiddle(r)),o+n}))}(l,-90);return h.length>1?h.forEach((function(e,t){e.angle=g[t],e.origin=l[t]})):(h[0].angle=g[1],h[0].origin=l[1]),r(t,h,u),t},t.cloneToRadial=function(t,n,r,i){var a,o,s={};e.isModel(t)?(a=s.models={},o=e.model.rotate):(a=s.paths={},o=e.path.rotate);for(var u=0;u<n;u++)a[u]=o(e.cloneObject(t),u*r,i);return s},t.cloneToColumn=o,t.cloneToRow=s,t.cloneToGrid=function(e,t,n,r){var i=u(r);return o(s(e,t,i[0]),n,i[1])},t.cloneToBrick=function(t,n,r,i){var a=u(i);return l(t,n,r,(function(t){var n=e.measure.modelExtents(t),r=a[0]||0,i=a[1]||0;return{x:(n.width+r)/-2,y:n.height+i,xMargin:r}}))},t.cloneToHoneycomb=function(t,n,r,i){return void 0===i&&(i=0),l(t,n,r,(function(t){var n=e.measure.boundingHexagon(t),r=2*e.solvers.equilateralAltitude(n.radius)+i;return{x:r/-2,y:e.solvers.equilateralAltitude(r),xMargin:i}}))}}(e.layout||(e.layout={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n,r=!1;function i(){if(!r)try{Bezier.prototype;r=!0}catch(e){throw"Bezier library not found. If you are using Node, try running 'npm install' or if you are in the browser, download http://pomax.github.io/bezierjs/bezier.js to your website and add a script tag."}}function a(e){var t=[e.origin];t.push.apply(t,e.controls),t.push(e.end);var r=t.map((function(e){return{x:e[0],y:e[1]}}));return n?Bezier.apply(n,r):(i(),n=new Bezier(r)),n}function o(e,t){var n=e.points.map(u),r=new d(n);return t&&(r.parentRange=t),r}function s(e){var t=[];return t.push.apply(t,e.origin),t.push.apply(t,e.controls[0]),e.controls.length>1&&t.push.apply(t,e.controls[1]),t.push.apply(t,e.end),i(),new Bezier(t)}function u(e){return[e.x,e.y]}var l=function(){return function(t,n,r){this.t=n,this.point=e.point.add(u(t.get(n)),r)}}();function c(t,n,r,i,a){var o=r-n;function s(r){var s=n+o*r,l=u(t.get(s)),c=e.point.middle(i,a?1-r:r);return e.measure.pointDistance(c,l)}return s(.25)+s(.75)}function h(t,n,r,i){for(var a,o,s,h=new l(t,n),p=new l(t,r),f=h,d=0,v=p;d<100;){var g=u(t.get((h.t+v.t)/2));try{a=new e.paths.Arc(h.point,g,v.point)}catch(e){if(o)return o;break}if(void 0===s&&(s=e.measure.isPointEqual(h.point,e.point.fromAngleOnCircle(a.endAngle,a))),c(t,n,v.t,a,s)<=i?(a.bezierData={startT:n,endT:v.t},f=v,o=a):p=v,f.t===p.t||o&&o!==a&&e.angle.ofArcSpan(a)-e.angle.ofArcSpan(o)<.5)return o;d++,v=new l(t,(f.t+p.t)/2)}var m=new e.paths.Line(h.point,v.point);return m.bezierData={startT:n,endT:v.t},m}function p(t,n,r,i,a,o){for(var s,u=0;i<a;){i=(s=h(n,i,a,r)).bezierData.endT,e.measure.pathLength(s)<1e-4||(t.paths[s.type+"_"+(o+u)]=s,u++)}return u}function f(t,n,r,i,o){var s=a(t.seed),u=[n.bezierData.startT,n.bezierData.endT].map((function(e){return new l(s,e,i)})),c=r.slice(),h=c.map((function(t){return e.measure.pointDistance(t,u[0].point)}));h[0]>h[1]&&c.reverse();for(var p=2;p--;)if(!e.measure.isPointEqual(c[p],u[p].point,o))return null;return n.bezierData}var d=function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(this.type=e.pathType.BezierSeed,t.length){case 1:var r=t[0];this.origin=r[0],3===r.length?(this.controls=[r[1]],this.end=r[2]):4===r.length?(this.controls=[r[1],r[2]],this.end=r[3]):this.end=r[1];break;case 3:Array.isArray(t[1])?this.controls=t[1]:this.controls=[t[1]],this.end=t[2];break;case 4:this.controls=[t[1],t[2]],this.end=t[3]}}}(),v=function(){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.type=t.typeName;var i=Array.isArray(n[0]);switch(n.length){case 2:if(!i){this.seed=n[0],this.accuracy=n[1];break}this.accuracy=n[1];case 1:if(i){var a=n[0];this.seed=new d(a)}else this.seed=n[0];break;default:switch(n.length){case 4:if(e.isPoint(n[3])){this.seed=new d(n);break}this.accuracy=n[3];case 3:i&&(this.seed=new d(n.slice(0,3)));break;case 5:this.accuracy=n[4],this.seed=new d(n.slice(0,4))}}if(this.paths={},e.measure.isBezierSeedLinear(this.seed)){var o=new e.paths.Line(e.point.clone(this.seed.origin),e.point.clone(this.seed.end));return o.bezierData={startT:0,endT:1},void(this.paths={0:o})}var u=s(this.seed),l=function(t){var n=t.extrema().values.map((function(t){return e.round(t)})).filter((function(e,t,n){return n.indexOf(e)===t})).sort();return 0===n.length?[0,1]:(0!==n[0]&&n.unshift(0),1!==n[n.length-1]&&n.push(1),n)}(u);if(this.paths={},!this.accuracy){var c=u.length();this.accuracy=c/100}for(var h=0,f=1;f<l.length;f++){var v=l[f]-l[f-1];h+=p(this,u,this.accuracy*v,l[f-1],l[f],h)}}return t.getBezierSeeds=function(t,n){void 0===n&&(n={}),n.shallow=!0,n.unifyBeziers=!1;var r={},i=function(t,n,i){void 0===i&&(i=!1),r[n]||(r[n]=[]),r[n].push(i?e.path.clone(t):t)};return e.model.findChains(t,(function(r,s,u){r.forEach((function(r){var s=function(t,n,r,i,a){var o=[n.links[0],n.links[n.links.length-1]];o[0].walkedPath.pathContext.bezierData.startT>o[1].walkedPath.pathContext.bezierData.startT&&(e.chain.reverse(n),o.reverse());var s=o.map((function(e){return f(t,e.walkedPath.pathContext,e.endPoints,e.walkedPath.offset,a)})),u={startT:s[0]?s[0].startT:null,endT:s[1]?s[1].endT:null};return null!==u.startT&&null!==u.endT?u:n.links.length>2?(null===u.startT&&(i(n.links[0].walkedPath.pathContext,r,!0),u.startT=n.links[1].walkedPath.pathContext.bezierData.startT),null===u.endT&&(i(n.links[n.links.length-1].walkedPath.pathContext,r,!0),u.endT=n.links[n.links.length-2].walkedPath.pathContext.bezierData.endT),u):null}(t,r,u,i,n.pointMatchingDistance);if(s){var l=a(t.seed).split(s.startT,s.endT);i(o(l),u)}else r.links.forEach((function(e){return i(e.walkedPath.pathContext,u,!0)}))})),s.forEach((function(r){if(r.pathContext.type===e.pathType.Line)return i(r.pathContext,u,!0);var s=f(t,r.pathContext,e.point.fromPathEnds(r.pathContext),r.offset,n.pointMatchingDistance);if(s){var l=a(t.seed).split(s.startT,s.endT);i(o(l),u)}else i(r.pathContext,u,!0)}))}),n),n.byLayers?r:r[""]},t.computeLength=function(e){return s(e).length()},t.computePoint=function(e,t){return u(a(e).compute(t))},t.typeName="BezierCurve",t}();t.BezierCurve=v,v.metaParameters=[{title:"points",type:"select",value:[[[100,0],[-80,-60],[100,220],[100,60]],[[0,0],[100,0],[100,100]],[[0,0],[20,0],[80,100],[100,100]]]}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t){var n,r=e.angle.ofArcSpan(t),i=(n=e.angle.toRadians(r),Math.tan(n/4)/3*4),a=[t.radius,t.radius*i];return[a,e.point.rotate(e.point.mirror(a,!1,!0),r,[0,0])].map((function(n){return e.point.add(t.origin,e.point.rotate(n,t.startAngle,[0,0]))}))}function r(t){if(e.angle.ofArcSpan(t)<=90){var r=e.point.fromPathEnds(t),i=n(t);return{type:e.pathType.BezierSeed,origin:r[0],controls:i,end:r[1]}}return null}var i=function(){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=this;this.models={};var o,s=e.isPoint(n[0]),u=function(i){switch(i){case 2:s&&(a.origin=n[0]);break;case 3:a.origin=n[0];break;case 4:a.origin=[n[0],n[1]]}for(var u=new e.paths.Arc([0,0],1,0,45),l=0;l<8;l++){var c=r(u);switch(i){case 1:c=e.path.scale(c,n[0]);break;case 2:c=s?e.path.scale(c,n[1]):e.path.distort(c,n[0],n[1]);break;case 3:c=e.path.distort(c,n[1],n[2]);break;case 4:c=e.path.distort(c,n[2],n[3])}a.models["Curve_"+(1+l)]=new t.BezierCurve(c,o),u.startAngle+=45,u.endAngle+=45}};switch(n.length){case 2:u(2);break;case 3:s?u(3):(o=n[2],u(2));break;case 4:s?(o=n[3],u(3)):u(4);break;case 5:o=n[4],u(4)}}}();t.Ellipse=i,i.metaParameters=[{title:"radiusX",type:"range",min:1,max:50,value:50},{title:"radiusY",type:"range",min:1,max:50,value:25}];var a=function(){return function(){for(var n,i,a,o,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];this.models={},e.isPathArc(s[0])?(n=s[0],a=s[1],o=s[2],i=s[3]):(n=new e.paths.Arc([0,0],1,s[0],s[1]),a=s[2],o=s[3],i=s[4]);for(var l=e.angle.ofArcSpan(n),c=Math.ceil(l/45),h=l/c,p=e.path.clone(n),f=0;f<c;f++){p.startAngle=n.startAngle+f*h,p.endAngle=p.startAngle+h;var d=r(p);d=e.path.distort(d,a,o),this.models["Curve_"+(1+f)]=new t.BezierCurve(d,i)}}}();t.EllipticArc=a,a.metaParameters=[{title:"startAngle",type:"range",min:0,max:90,value:0},{title:"endAngle",type:"range",min:90,max:360,value:180},{title:"radiusX",type:"range",min:1,max:50,value:50},{title:"radiusY",type:"range",min:1,max:50,value:25}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t){var n;if(Array.isArray(t)){if(e.isPoint(t[0]))return t;n=t}else n=e.importer.parseNumericList(t);for(var r=[],i=0;i<n.length;i+=2)r.push([n[i],n[i+1]]);return r}var r=function(){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i,a,o=this;switch(this.paths={},t.length){case 1:i=!0,a=n(t[0]);break;case 2:i=t[0],a=n(t[1])}for(var s=function(t,n,r){void 0===r&&(r=!1),r&&0==e.measure.pointDistance(a[t],a[n])||(o.paths["ShapeLine"+u]=new e.paths.Line(a[t],a[n]))},u=1;u<a.length;u++)s(u-1,u);i&&a.length>2&&s(a.length-1,0,!0)}}();t.ConnectTheDots=r,r.metaParameters=[{title:"closed",type:"bool",value:!0},{title:"points",type:"select",value:[[[0,0],[40,40],[60,20],[100,100],[60,60],[40,80]],[[0,0],[100,0],[50,87]],[-10,0,10,0,0,20],"-10 0 10 0 0 20"]}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){function n(e,r,i,a){this.paths={},this.paths=new t.ConnectTheDots(!0,n.getPoints(e,r,i,a)).paths}return n.circumscribedRadius=function(e,t){return e/Math.cos(t/2)},n.getPoints=function(t,r,i,a){void 0===i&&(i=0),void 0===a&&(a=!1);var o=[],s=e.angle.toRadians(i),u=2*Math.PI/t;a&&(r=n.circumscribedRadius(r,u));for(var l=0;l<t;l++)o.push(e.point.fromPolar(u*l+s,r));return o},n}(),t.Polygon=n,n.metaParameters=[{title:"number of sides",type:"range",min:3,max:24,value:6},{title:"radius",type:"range",min:1,max:100,value:50},{title:"offset angle",type:"range",min:0,max:180,value:0},{title:"radius on flats (vs radius on vertexes)",type:"bool",value:!1}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(t,n,r){this.paths={};for(var i=0;i<n.length;i++){var a=r?r[i]:i.toString();this.paths[a]=new e.paths.Circle(n[i],t)}}}(),t.Holes=n,n.metaParameters=[{title:"holeRadius",type:"range",min:.1,max:10,step:.1,value:1},{title:"points",type:"select",value:[[[0,0],[10,10],[20,20],[30,30],[40,40],[50,50],[60,60],[70,70],[80,80]],[[0,0],[0,25],[0,50],[0,75],[0,100],[25,50],[50,50],[75,50],[100,100],[100,75],[100,50],[100,25],[100,0]]]}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(e,n,r,i){void 0===i&&(i=0),this.paths={};var a=t.Polygon.getPoints(r,e,i),o=a.map((function(e,t){return"bolt "+t}));this.paths=new t.Holes(n,a,o).paths}}(),t.BoltCircle=n,n.metaParameters=[{title:"bolt circle radius",type:"range",min:1,max:100,value:50},{title:"hole radius",type:"range",min:1,max:50,value:5},{title:"bolt count",type:"range",min:3,max:24,value:12},{title:"offset angle",type:"range",min:0,max:180,value:0}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(e,n,r){this.paths={};var i=[[0,0],[e,0],[e,n],[0,n]];this.paths=new t.Holes(r,i,["BottomLeft_bolt","BottomRight_bolt","TopRight_bolt","TopLeft_bolt"]).paths}}(),t.BoltRectangle=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:100},{title:"height",type:"range",min:1,max:100,value:50},{title:"hole radius",type:"range",min:1,max:50,value:5}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(t,n,r,i,a){void 0===i&&(i=0),void 0===a&&(a=!1),this.paths={};var o,s,u,l,c,h,p=Math.min(n,t)/2;switch(i){case-1:case 1:o=p/2;break;default:o=p*Math.SQRT2/2}switch(r=Math.min(r,o),i){case-1:s=0,u=r,l=0,c=2*r,h=[180,0,0,180];break;case 1:s=r,u=0,l=2*r,c=0,h=[270,270,90,90];break;default:l=c=2*(s=u=r/Math.SQRT2),h=[225,315,45,135]}a?(this.paths.Left=new e.paths.Line([0,0],[0,n-c]),this.paths.Right=new e.paths.Line([t,0],[t,n-c])):(this.paths.Left=new e.paths.Line([0,c],[0,n-c]),this.paths.Right=new e.paths.Line([t,c],[t,n-c]),this.paths.Bottom=new e.paths.Line([l,0],[t-l,0]),this.paths.BottomLeft=new e.paths.Arc([s,u],r,h[0]-90,h[0]+90),this.paths.BottomRight=new e.paths.Arc([t-s,u],r,h[1]-90,h[1]+90)),this.paths.TopRight=new e.paths.Arc([t-s,n-u],r,h[2]-90,h[2]+90),this.paths.TopLeft=new e.paths.Arc([s,n-u],r,h[3]-90,h[3]+90),this.paths.Top=new e.paths.Line([l,n],[t-l,n])}}(),t.Dogbone=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100},{title:"radius",type:"range",min:0,max:50,value:5},{title:"style",type:"select",value:[0,1,-1]},{title:"bottomless",type:"bool",value:!1}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(t,n,r,i){this.paths={};var a=t/2;r<0&&(r=0),void 0===r&&(r=a),r=Math.min(r,a),r=Math.min(r,n);var o=Math.max(a-r,0),s=Math.max(n-r,0);i||(this.paths.Bottom=new e.paths.Line([-a,0],[a,0])),s&&(this.paths.Left=new e.paths.Line([-a,0],[-a,s]),this.paths.Right=new e.paths.Line([a,0],[a,s])),r>0&&(this.paths.TopLeft=new e.paths.Arc([-o,s],r,90,180),this.paths.TopRight=new e.paths.Arc([o,s],r,0,90)),o&&(this.paths.Top=new e.paths.Line([-o,n],[o,n]))}}(),t.Dome=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100},{title:"radius",type:"range",min:0,max:50,value:25},{title:"bottomless",type:"bool",value:!1}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];this.paths={};var a=0;switch(r.length){case 3:t=r[0],n=r[1],a=r[2];break;case 2:a=r[1];case 1:var o=e.measure.modelExtents(r[0]);this.origin=e.point.subtract(o.low,[a,a]),t=o.high[0]-o.low[0]+2*a,n=o.high[1]-o.low[1]+2*a}var s=Math.min(n,t)/2,u=t-(a=Math.min(a,s)),l=n-a;a>0&&(this.paths.BottomLeft=new e.paths.Arc([a,a],a,180,270),this.paths.BottomRight=new e.paths.Arc([u,a],a,270,0),this.paths.TopRight=new e.paths.Arc([u,l],a,0,90),this.paths.TopLeft=new e.paths.Arc([a,l],a,90,180)),u-a>0&&(this.paths.Bottom=new e.paths.Line([a,0],[u,0]),this.paths.Top=new e.paths.Line([u,n],[a,n])),l-a>0&&(this.paths.Right=new e.paths.Line([t,a],[t,l]),this.paths.Left=new e.paths.Line([0,l],[0,a]))}}(),t.RoundRectangle=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100},{title:"radius",type:"range",min:0,max:50,value:11}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(e,n){this.paths={},this.paths=new t.RoundRectangle(e,n,Math.min(n/2,e/2)).paths}}(),t.Oval=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(t,n,r,i,a,o){void 0===a&&(a=!1),void 0===o&&(o=!1);var s,u=this;if(this.paths={},o&&(s={models:{}},this.models={Caps:s}),!(i<=0||r<=0)&&(t=e.angle.noRevolutions(t),n=e.angle.noRevolutions(n),0!=e.round(t-n))){n<t&&(n+=360);var l=function(t,n,a,l){var c;return o?(c={paths:{}},s.models[t]=c):c=u,c.paths[t]=new e.paths.Arc(e.point.fromPolar(e.angle.toRadians(n),r),i,n+a,n+l)},c=function(i,a){return u.paths[i]=new e.paths.Arc([0,0],r+a,t,n)};c("Outer",i);var h=r-i>0;h&&c("Inner",-i);var p=[];if(p.push(l("StartCap",t,180,0)),p.push(l("EndCap",n,0,180)),e.measure.pointDistance(p[0].origin,p[1].origin)/2<i){var f=e.path.intersection(p[0],p[1]);f&&(h&&a||(p[0].startAngle=f.path1Angles[0],p[1].endAngle=f.path2Angles[0]),!a&&h&&2==f.intersectionPoints.length&&(l("StartCap2",t,180,0).endAngle=f.path1Angles[1],l("EndCap2",n,0,180).startAngle=f.path2Angles[1]+360))}}}}(),t.OvalArc=n,n.metaParameters=[{title:"start angle",type:"range",min:-360,max:360,step:1,value:180},{title:"end angle",type:"range",min:-360,max:360,step:1,value:0},{title:"sweep",type:"range",min:0,max:100,step:1,value:50},{title:"radius",type:"range",min:0,max:100,step:1,value:15},{title:"self intersect",type:"bool",value:!1}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(){for(var n,r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(this.paths={},2!==i.length||e.isObject(i[0])){var o,s=0;e.isModel(i[0])?(o=e.measure.modelExtents(i[0]),2===i.length&&(s=i[1])):o=i[0],this.origin=e.point.subtract(o.low,[s,s]),n=o.high[0]-o.low[0]+2*s,r=o.high[1]-o.low[1]+2*s}else n=i[0],r=i[1];this.paths=new t.ConnectTheDots(!0,[[0,0],[n,0],[n,r],[0,r]]).paths}}(),t.Rectangle=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(t,n){this.paths={};var r={Ring_outer:t,Ring_inner:n};for(var i in r){var a=r[i];void 0===a||a<=0||(this.paths[i]=new e.paths.Circle(e.point.zero(),a))}}}(),t.Ring=n,n.metaParameters=[{title:"outer radius",type:"range",min:0,max:100,step:1,value:50},{title:"inner radius",type:"range",min:0,max:100,step:1,value:20}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(t,n,r){this.paths={};var i=new e.paths.Arc([0,0],t,0,360),a=new e.paths.Arc([n,0],r,0,360),o=e.solvers.circleTangentAngles(i,a);o?(o=o.sort((function(e,t){return e-t})),i.startAngle=o[0],i.endAngle=o[1],a.startAngle=o[1],a.endAngle=o[0],this.paths.Left=i,this.paths.Right=a,this.paths.Top=new e.paths.Line(e.point.fromAngleOnCircle(o[0],i),e.point.fromAngleOnCircle(o[0],a)),this.paths.Bottom=new e.paths.Line(e.point.fromAngleOnCircle(o[1],i),e.point.fromAngleOnCircle(o[1],a))):this.paths.Belt=new e.paths.Circle(Math.max(t,r))}}(),t.Belt=n,n.metaParameters=[{title:"left radius",type:"range",min:0,max:100,value:30},{title:"distance between centers",type:"range",min:0,max:100,value:50},{title:"right radius",type:"range",min:0,max:100,value:15}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(t,n){function r(e,t){return e+(t*t-e*e)/(2*e)}this.paths={};var i,a,o,s,u=n/2,l=t/2;t>n?(i=r(u,l),a=270,o=360-e.angle.toDegrees(Math.acos(l/i)),s=[0,i]):(i=r(l,u),a=180-e.angle.toDegrees(Math.asin(u/i)),o=180,s=[i,0]);var c=new e.paths.Arc(s,i,a,o);this.paths.curve_start=c,this.paths.curve_end=e.path.moveRelative(e.path.mirror(c,!0,!0),[t,n])}}(),t.SCurve=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(t,n,r,i){void 0===i&&(i=!1);var a,o=this;this.paths={},i&&(a={models:{}},this.models={Caps:a});var s=function(e,t){var n;i?(n={paths:{}},a.models[e]=n):n=o,n.paths[e]=t},u=e.angle.ofPointInDegrees(t,n),l=e.measure.pointDistance(t,n);this.paths.Top=new e.paths.Line([0,r],[l,r]),this.paths.Bottom=new e.paths.Line([0,-r],[l,-r]),s("StartCap",new e.paths.Arc([0,0],r,90,270)),s("EndCap",new e.paths.Arc([l,0],r,270,90)),e.model.rotate(this,u,[0,0]),this.origin=t}}(),t.Slot=n,n.metaParameters=[{title:"origin",type:"select",value:[[0,0],[10,0],[10,10]]},{title:"end",type:"select",value:[[80,0],[0,30],[10,30]]},{title:"radius",type:"range",min:1,max:50,value:10}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){return function(e){this.paths={},this.paths=new t.Rectangle(e,e).paths}}(),t.Square=n,n.metaParameters=[{title:"side",type:"range",min:1,max:100,value:100}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){function e(n,r,i,a){void 0===a&&(a=2),this.paths={},i||(i=r*e.InnerRadiusRatio(n,a));for(var o=t.Polygon.getPoints(n,r),s=t.Polygon.getPoints(n,i,180/n),u=[],l=0;l<n;l++)u.push(o[l]),u.push(s[l]);var c=new t.ConnectTheDots(!0,u);this.paths=c.paths,delete c.paths}return e.InnerRadiusRatio=function(e,t){return e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0},e}(),t.Star=n,n.metaParameters=[{title:"number of sides",type:"range",min:3,max:24,value:8},{title:"outer radius",type:"range",min:1,max:100,value:50},{title:"inner radius",type:"range",min:0,max:100,value:15},{title:"skip points (when inner radius is zero)",type:"range",min:0,max:12,value:2}]}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.models||(e.models={}),n=function(){function n(t,r,i,a,o,s,u){void 0===a&&(a=!1),void 0===o&&(o=!1);var l=this;this.models={};var c,h,p=0;t.forEachGlyph(r,0,0,i,u,(function(t,r,i,u,f){var d=n.glyphToModel(t,u,s);if(d.origin=[r,0],o&&(d.paths||d.models)){var v=e.measure.modelExtents(d);if(v){var g=v.high[0]-v.low[0];e.model.originate(d,[v.low[0]+g/2,0])}}if(a&&p>0){var m,y={};m=c?{models:{deleted:c,char:h}}:h,e.model.combine(m,d,!1,!0,!1,!0,y),c=y.out_deleted[1]}l.models[p]=d,p++,h=d}))}return n.glyphToModel=function(n,r,i){var a,o,s={},u=0;function l(e){s.models||(s.models={}),s.models["p_"+ ++u]=e}return n.getPath(0,0,r).commands.map((function(n,r){var c,h=[[n.x,n.y],[n.x1,n.y1],[n.x2,n.y2]].map((function(t){if(void 0!==t[0])return e.point.mirror(t,!1,!0)}));switch(n.type){case"M":a=h[0];break;case"Z":h[0]=a;case"L":e.measure.isPointEqual(o,h[0])||(c=new e.paths.Line(o,h[0]),s.paths||(s.paths={}),s.paths["p_"+ ++u]=c);break;case"C":l(new t.BezierCurve(o,h[1],h[2],h[0],i));break;case"Q":l(new t.BezierCurve(o,h[1],h[0],i))}o=h[0]})),s},n}(),t.Text=n,n.metaParameters=[{title:"font",type:"font",value:"*"},{title:"text",type:"text",value:"Hello"},{title:"font size",type:"range",min:10,max:200,value:72},{title:"combine",type:"bool",value:!1},{title:"center character origin",type:"bool",value:!1}]}(MakerJs||(MakerJs={})),MakerJs.version="0.18.1";var Bezier=require_bezier_js()}});export default require_index();
